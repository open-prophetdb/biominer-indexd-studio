!(function(){"use strict";var ms=Object.defineProperty,fs=Object.defineProperties;var Cs=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var Xe=(ee,te,q)=>te in ee?ms(ee,te,{enumerable:!0,configurable:!0,writable:!0,value:q}):ee[te]=q,$=(ee,te)=>{for(var q in te||(te={}))et.call(te,q)&&Xe(ee,q,te[q]);if(xe)for(var q of xe(te))tt.call(te,q)&&Xe(ee,q,te[q]);return ee},ae=(ee,te)=>fs(ee,Cs(te));var st=(ee,te)=>{var q={};for(var t in ee)et.call(ee,t)&&te.indexOf(t)<0&&(q[t]=ee[t]);if(ee!=null&&xe)for(var t of xe(ee))te.indexOf(t)<0&&tt.call(ee,t)&&(q[t]=ee[t]);return q};(self.webpackChunkbiominer_indexd_studio=self.webpackChunkbiominer_indexd_studio||[]).push([[7671],{50975:function(ee,te,q){var qe;q.d(te,{s:function(){return ps}});var t=q(67294),f=q(51256),Ge=q(73935),ne=t.createContext({}),We=t.createContext("default"),be=(e,s,r,n)=>{if(!e||e.componentFromFramework||s.isDestroyed())return;const a=e.newAgStackInstance();let i,c,l=!1;return a.then(p=>{if(l){s.destroyBean(p);return}i=p,c=i.getGui(),r.appendChild(c),Te(n,i)}),()=>{var p;l=!0,i&&((p=c==null?void 0:c.parentElement)==null||p.removeChild(c),s.destroyBean(i),n&&Te(n,void 0))}},Te=(e,s)=>{if(e)if(e instanceof Function)e(s);else{const r=e;r.current=s}},ie=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),ue=class rt{constructor(...s){this.classesMap={},s.forEach(r=>{this.classesMap[r]=!0})}setClass(s,r){if(!!this.classesMap[s]==r)return this;const o=new rt;return o.classesMap=$({},this.classesMap),o.classesMap[s]=r,o}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Re=e=>{const s=()=>typeof Symbol=="function"&&Symbol.for,r=()=>s()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Be=(qe=t.version)==null?void 0:qe.split(".")[0],Ne=Be==="16"||Be==="17";function nt(){return Be==="19"}var ke=!1;function ot(e){return ke||setTimeout(()=>ke=!1,0),ke=!0,e()}var Ee=(e,s)=>{!Ne&&e&&!ke?Ge.flushSync(s):s()},at=e=>{Ne?e():t.startTransition(e)};function ct(e,s,r){return t.useSyncExternalStore?t.useSyncExternalStore(e,s):r}function Me(e,s,r){if(s==null||e==null)return s;if(e===s||s.length===0&&e.length===0)return e;if(r||e.length===0&&s.length>0||e.length>0&&s.length===0)return s;const n=[],o=[],a=new Map,i=new Map;for(let c=0;c<s.length;c++){const l=s[c];i.set(l.instanceId,l)}for(let c=0;c<e.length;c++){const l=e[c];a.set(l.instanceId,l),i.has(l.instanceId)&&n.push(l)}for(let c=0;c<s.length;c++){const l=s[c],p=l.instanceId;a.has(p)||o.push(l)}return n.length===e.length&&o.length===0?e:n.length===0&&o.length===s.length?s:n.length===0?o:o.length===0?n:[...n,...o]}var He=(0,t.forwardRef)((e,s)=>{var L;const{registry:r,context:n}=(0,t.useContext)(ne),o=(0,t.useRef)(null),a=(0,t.useRef)(null),i=(0,t.useRef)(null),c=(0,t.useRef)(null),l=(0,t.useRef)(null),p=(0,t.useRef)(),[u,k]=(0,t.useState)(),[g,h]=(0,t.useState)(),[E,b]=(0,t.useState)(),[y,d]=(0,t.useState)(()=>new ue),[M,B]=(0,t.useState)(()=>new ue("ag-hidden")),[S,m]=(0,t.useState)(()=>new ue("ag-hidden")),[z,P]=(0,t.useState)(()=>new ue("ag-invisible"));(0,t.useImperativeHandle)(s,()=>({refresh(){return!1}})),(0,t.useLayoutEffect)(()=>be(u,n,a.current),[u]);const _=(0,t.useCallback)(j=>{if(o.current=j,!j||n.isDestroyed()){p.current=n.destroyBean(p.current);return}const O={setInnerRenderer:(W,w)=>{k(W),b(w)},setChildCount:W=>h(W),toggleCss:(W,w)=>d(D=>D.setClass(W,w)),setContractedDisplayed:W=>m(w=>w.setClass("ag-hidden",!W)),setExpandedDisplayed:W=>B(w=>w.setClass("ag-hidden",!W)),setCheckboxVisible:W=>P(w=>w.setClass("ag-invisible",!W)),setCheckboxSpacing:W=>P(w=>w.setClass("ag-group-checkbox-spacing",W))},I=r.createDynamicBean("groupCellRendererCtrl",!0);I&&(p.current=n.createBean(I),p.current.init(O,j,i.current,c.current,l.current,He,e))},[]),N=(0,t.useMemo)(()=>`ag-cell-wrapper ${y.toString()}`,[y]),U=(0,t.useMemo)(()=>`ag-group-expanded ${M.toString()}`,[M]),R=(0,t.useMemo)(()=>`ag-group-contracted ${S.toString()}`,[S]),v=(0,t.useMemo)(()=>`ag-group-checkbox ${z.toString()}`,[z]),A=u==null?void 0:u.componentFromFramework,G=A?u.componentClass:void 0,C=u==null&&E!=null,V=(0,f.Z_J)(E);return t.createElement("span",$({className:N,ref:_},e.colDef?{}:{role:(L=p.current)==null?void 0:L.getCellAriaRole()}),t.createElement("span",{className:U,ref:c}),t.createElement("span",{className:R,ref:l}),t.createElement("span",{className:v,ref:i}),t.createElement("span",{className:"ag-group-value",ref:a},C?V:A?t.createElement(G,$({},u.params)):null),t.createElement("span",{className:"ag-group-child-count"},g))}),Ue=He,Fe=(0,t.createContext)({setMethods:()=>{}}),lt=e=>{const{initialProps:s,addUpdateCallback:r,CustomComponentClass:n,setMethods:o}=e,[l,...p]=(0,t.useState)(s),u=l,{key:a}=u,i=st(u,["key"]),[c]=p;return(0,t.useEffect)(()=>{r(k=>c(k))},[]),t.createElement(Fe.Provider,{value:{setMethods:o}},t.createElement(n,$({key:a},i)))},it=(0,t.memo)(lt),ut=0;function _e(){return`agPortalKey_${++ut}`}var Ve=class{constructor(e,s,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=s,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=_e(),this.portalKey=_e(),this.instanceCreated=this.isStatelessComponent()?f.j_S.resolve(!1):new f.j_S(o=>{this.resolveInstanceCreated=o})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const s=this.portalManager.getComponentWrappingElement(),r=document.createElement(s||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const s=this.getFrameworkComponentInstance();return!!s&&s[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,s){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,s&&s[0]?s[0]:{});if(!r){setTimeout(()=>this.callMethod(e,s));return}const n=r[e];if(n)return n.apply(r,s);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,s&&s[0]?s[0]:{})}addMethod(e,s){this[e]=s}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new f.j_S(s=>this.createReactComponent(s))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=s=>{var r;this.componentInstance=s,(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,ae($({},e),{key:this.key})),this.portal=(0,Ge.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,s){return(0,t.createElement)(e,s)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,s){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(s)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Ae(e,s,r){e.forEach(n=>{const o=s[n];o&&(r[n]=o)})}var ce=class extends Ve{constructor(){super(...arguments),this.awaitUpdateCallback=new f.j_S(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=it}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,s){return super.createElement(this.wrapperComponent,{initialProps:s,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new f.j_S(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Ae(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return ae($({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new f.j_S(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},dt=class extends ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},pt=class extends ce{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},ht=class extends ce{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,s){this.icon=e,this.shake=s,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:s,icon:r,shake:n}=this;return e.label=s,e.icon=r,e.shake=n,e}},mt=class extends ce{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new f.j_S(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var r;const s=this.providedMethods;s?(r=s.afterGuiAttached)==null||r.call(s,e):this.awaitSetMethodsCallback.then(()=>{var n,o;return(o=(n=this.providedMethods)==null?void 0:n.afterGuiAttached)==null?void 0:o.call(n,e)})}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var s,r;this.expectingNewMethods===!1&&this.hasBeenActive&&((s=this.providedMethods)==null?void 0:s.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),(r=this.resolveFilterPassCallback)==null||r.call(this),this.resolveFilterPassCallback=void 0}updateModel(e){var r;(r=this.resolveFilterPassCallback)==null||r.call(this);const s=new f.j_S(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{s.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},ft=class extends ce{constructor(){super(...arguments),this.awaitSetMethodsCallback=new f.j_S(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var r;const s=this.providedMethods;s?(r=s.afterGuiAttached)==null||r.call(s,e):this.awaitSetMethodsCallback.then(()=>{var n,o;return(o=(n=this.providedMethods)==null?void 0:n.afterGuiAttached)==null?void 0:o.call(n,e)})}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function Le(e,s){e.parentFilterInstance(r=>{(r.setModel(s)||f.j_S.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Ct=class{constructor(e,s){this.floatingFilterParams=e,this.refreshProps=s,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return ae($({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Ae(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Le(this.floatingFilterParams,e)}},gt=class extends ce{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Le(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},yt=class extends ce{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},Rt=class extends ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},vt=class extends ce{refresh(e){this.sourceParams=e,this.refreshProps()}},St=class extends ce{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const s=this.awaitSetActive(e);e&&s.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},wt=class extends ce{refresh(e){this.sourceParams=e,this.refreshProps()}},bt=class extends ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Et=class extends ce{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function gs(e,s){var n,o;((o=(n=e==null?void 0:e.getInstance)==null?void 0:n.call(e))!=null?o:AgPromise6.resolve(void 0)).then(a=>s(a))}function Ie(){(0,f.F5b)(231)}var Pt=1e3,kt=class{constructor(e,s,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=s||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Pt}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(s=>s!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,s,r){this.portals=[...this.portals,e],this.waitForInstance(s,r),this.batchUpdate()}updateReactPortal(e,s){this.portals[this.portals.indexOf(e)]=s,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,s,r=Date.now()){if(this.destroyed){s(null);return}if(e.rendered())s(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Ee(!0,()=>this.refresher()),e.rendered()&&s(e);return}window.setTimeout(()=>{this.waitForInstance(e,s,r)})}}},Mt=({ctrl:e})=>{const s=e.isAlive(),{context:r}=(0,t.useContext)(ne),[n,o]=(0,t.useState)(),[a,i]=(0,t.useState)(),c=(0,t.useRef)(),l=(0,t.useRef)(null),p=(0,t.useRef)(null),u=(0,t.useRef)(null),k=(0,t.useRef)(),g=(0,t.useRef)();s&&!g.current&&(g.current=new f.fRQ(()=>l.current));const h=(0,t.useCallback)(d=>{if(l.current=d,!d||!e.isAlive()||r.isDestroyed()){c.current=r.destroyBean(c.current);return}c.current=r.createBean(new f.HGE);const M=()=>{var m;const S=e.getSelectAllGui();S&&((m=p.current)==null||m.insertAdjacentElement("afterend",S),c.current.addDestroyFunc(()=>S.remove()))},B={setWidth:S=>{l.current&&(l.current.style.width=S)},toggleCss:(S,m)=>g.current.toggleCss(S,m),setUserStyles:S=>i(S),setAriaSort:S=>{l.current&&(S?(0,f.gCM)(l.current,S):(0,f.KxL)(l.current))},setUserCompDetails:S=>o(S),getUserCompInstance:()=>k.current||void 0,refreshSelectAllGui:M,removeSelectAllGui:()=>{var S;return(S=e.getSelectAllGui())==null?void 0:S.remove()}};e.setComp(B,d,p.current,u.current,c.current),M()},[]);(0,t.useLayoutEffect)(()=>be(n,r,u.current,k),[n]),(0,t.useEffect)(()=>{e.setDragSource(l.current)},[n]);const E=(0,t.useMemo)(()=>!!((n==null?void 0:n.componentFromFramework)&&Re(n.componentClass)),[n]),b=n==null?void 0:n.componentFromFramework,y=n==null?void 0:n.componentClass;return t.createElement("div",{ref:h,style:a,className:"ag-header-cell",role:"columnheader"},t.createElement("div",{ref:p,className:"ag-header-cell-resize",role:"presentation"}),t.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},b?E?t.createElement(y,$({},n.params)):t.createElement(y,ae($({},n.params),{ref:k})):null))},Ft=(0,t.memo)(Mt),At=class{constructor(e,s){this.floatingFilterParams=e,this.refreshProps=s}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Ae(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},xt=({ctrl:e})=>{const{context:s,gos:r}=(0,t.useContext)(ne),[n,o]=(0,t.useState)(),[a,i]=(0,t.useState)(()=>new ue("ag-header-cell","ag-floating-filter")),[c,l]=(0,t.useState)(()=>new ue),[p,u]=(0,t.useState)(()=>new ue("ag-floating-filter-button","ag-hidden")),[k,g]=(0,t.useState)("false"),[h,E]=(0,t.useState)(),[,b]=(0,t.useState)(1),y=(0,t.useRef)(),d=(0,t.useRef)(null),M=(0,t.useRef)(null),B=(0,t.useRef)(null),S=(0,t.useRef)(null),m=(0,t.useRef)(),z=(0,t.useRef)(),P=I=>{I!=null&&m.current&&m.current(I)},_=(0,t.useCallback)(I=>{if(d.current=I,!I||!e.isAlive()||s.isDestroyed()){y.current=s.destroyBean(y.current);return}y.current=s.createBean(new f.HGE),z.current=new f.j_S(w=>{m.current=w});const W={toggleCss:(w,D)=>i(Z=>Z.setClass(w,D)),setUserStyles:w=>o(w),addOrRemoveBodyCssClass:(w,D)=>l(Z=>Z.setClass(w,D)),setButtonWrapperDisplayed:w=>{u(D=>D.setClass("ag-hidden",!w)),g(w?"false":"true")},setWidth:w=>{d.current&&(d.current.style.width=w)},setCompDetails:w=>E(w),getFloatingFilterComp:()=>z.current?z.current:null,setMenuIcon:w=>{var D;return(D=S.current)==null?void 0:D.appendChild(w)}};e.setComp(W,I,S.current,M.current,y.current)},[]);(0,t.useLayoutEffect)(()=>be(h,s,M.current,P),[h]);const N=(0,t.useMemo)(()=>a.toString(),[a]),U=(0,t.useMemo)(()=>c.toString(),[c]),R=(0,t.useMemo)(()=>p.toString(),[p]),v=(0,t.useMemo)(()=>!!(h&&h.componentFromFramework&&Re(h.componentClass)),[h]),A=(0,t.useMemo)(()=>r.get("reactiveCustomComponents"),[]),G=(0,t.useMemo)(()=>r.get("enableFilterHandlers"),[]),[C,V]=(0,t.useState)();(0,t.useEffect)(()=>{if(h!=null&&h.componentFromFramework)if(A){const I=G?At:Ct,W=new I(h.params,()=>b(w=>w+1));P(W),V(W)}else Ie()},[h]);const L=C==null?void 0:C.getProps(),j=h==null?void 0:h.componentFromFramework,O=h==null?void 0:h.componentClass;return t.createElement("div",{ref:_,style:n,className:N,role:"gridcell"},t.createElement("div",{ref:M,className:U,role:"presentation"},j?A?L&&t.createElement(Fe.Provider,{value:{setMethods:I=>C.setMethods(I)}},t.createElement(O,$({},L))):t.createElement(O,ae($({},h.params),{ref:v?()=>{}:P})):null),t.createElement("div",{ref:B,"aria-hidden":k,className:R,role:"presentation"},t.createElement("button",{ref:S,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Gt=(0,t.memo)(xt),Bt=({ctrl:e})=>{const{context:s}=(0,t.useContext)(ne),[r,n]=(0,t.useState)(),[o,a]=(0,t.useState)(()=>new ue),[i,c]=(0,t.useState)(()=>new ue),[l,p]=(0,t.useState)("false"),[u,k]=(0,t.useState)(),[g,h]=(0,t.useState)(),E=(0,t.useRef)(),b=(0,t.useRef)(null),y=(0,t.useRef)(null),d=(0,t.useRef)(null),M=(0,t.useRef)(),B=(0,t.useCallback)(N=>{if(b.current=N,!N||!e.isAlive()||s.isDestroyed()){E.current=s.destroyBean(E.current);return}E.current=s.createBean(new f.HGE);const U={setWidth:R=>{b.current&&(b.current.style.width=R)},toggleCss:(R,v)=>a(A=>A.setClass(R,v)),setUserStyles:R=>n(R),setHeaderWrapperHidden:R=>{const v=d.current;v&&(R?v.style.setProperty("display","none"):v.style.removeProperty("display"))},setHeaderWrapperMaxHeight:R=>{const v=d.current;v&&(R!=null?v.style.setProperty("max-height",`${R}px`):v.style.removeProperty("max-height"),v.classList.toggle("ag-header-cell-comp-wrapper-limited-height",R!=null))},setUserCompDetails:R=>h(R),setResizableDisplayed:R=>{c(v=>v.setClass("ag-hidden",!R)),p(R?"false":"true")},setAriaExpanded:R=>k(R),getUserCompInstance:()=>M.current||void 0};e.setComp(U,N,y.current,d.current,E.current)},[]);(0,t.useLayoutEffect)(()=>be(g,s,d.current),[g]),(0,t.useEffect)(()=>{b.current&&e.setDragSource(b.current)},[g]);const S=(0,t.useMemo)(()=>!!((g==null?void 0:g.componentFromFramework)&&Re(g.componentClass)),[g]),m=(0,t.useMemo)(()=>"ag-header-group-cell "+o.toString(),[o]),z=(0,t.useMemo)(()=>"ag-header-cell-resize "+i.toString(),[i]),P=g==null?void 0:g.componentFromFramework,_=g==null?void 0:g.componentClass;return t.createElement("div",{ref:B,style:r,className:m,role:"columnheader","aria-expanded":u},t.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},P?S?t.createElement(_,$({},g.params)):t.createElement(_,ae($({},g.params),{ref:M})):null),t.createElement("div",{ref:y,"aria-hidden":l,className:z}))},It=(0,t.memo)(Bt),Dt=({ctrl:e})=>{const{gos:s,context:r}=(0,t.useContext)(ne),{topOffset:n,rowHeight:o}=(0,t.useMemo)(()=>e.getTopAndHeight(),[]),a=(0,t.useMemo)(()=>s.get("tabIndex"),[]),[i,c]=(0,t.useState)(()=>e.getAriaRowIndex()),l=e.headerRowClass,[p,u]=(0,t.useState)(()=>o+"px"),[k,g]=(0,t.useState)(()=>n+"px"),h=(0,t.useRef)(null),[E,b]=(0,t.useState)(()=>e.getUpdatedHeaderCtrls()),y=(0,t.useRef)(),d=(0,t.useRef)(null),M=(0,t.useCallback)(m=>{if(d.current=m,!m||!e.isAlive()||r.isDestroyed()){y.current=r.destroyBean(y.current);return}y.current=r.createBean(new f.HGE);const z={setHeight:P=>u(P),setTop:P=>g(P),setHeaderCtrls:(P,_,N)=>{const U=h.current,R=Me(U,P,_);R!==U&&(h.current=R,Ee(N,()=>b(R)))},setWidth:P=>{d.current&&(d.current.style.width=P)},setRowIndex:P=>{c(P)}};e.setComp(z,y.current,!1)},[]),B=(0,t.useMemo)(()=>({height:p,top:k}),[p,k]),S=(0,t.useCallback)(m=>{switch(e.type){case"group":return t.createElement(It,{ctrl:m,key:m.instanceId});case"filter":return t.createElement(Gt,{ctrl:m,key:m.instanceId});default:return t.createElement(Ft,{ctrl:m,key:m.instanceId})}},[]);return t.createElement("div",{ref:M,className:l,role:"row",style:B,tabIndex:a,"aria-rowindex":i},E.map(S))},Ot=(0,t.memo)(Dt),Wt=({pinned:e})=>{const[s,r]=(0,t.useState)(!0),[n,o]=(0,t.useState)([]),{context:a}=(0,t.useContext)(ne),i=(0,t.useRef)(null),c=(0,t.useRef)(null),l=(0,t.useRef)(),p=e==="left",u=e==="right",k=!p&&!u,g=(0,t.useCallback)(b=>{if(i.current=b,!b||a.isDestroyed()){l.current=a.destroyBean(l.current);return}l.current=a.createBean(new f.TsN(e));const y={setDisplayed:r,setCtrls:d=>o(d),setCenterWidth:d=>{c.current&&(c.current.style.width=d)},setViewportScrollLeft:d=>{i.current&&(i.current.scrollLeft=d)},setPinnedContainerWidth:d=>{i.current&&(i.current.style.width=d,i.current.style.minWidth=d,i.current.style.maxWidth=d)}};l.current.setComp(y,i.current)},[]),h=s?"":"ag-hidden",E=()=>n.map(b=>t.createElement(Ot,{ctrl:b,key:b.instanceId}));return p?t.createElement("div",{ref:g,className:"ag-pinned-left-header "+h,"aria-hidden":!s,role:"rowgroup"},E()):u?t.createElement("div",{ref:g,className:"ag-pinned-right-header "+h,"aria-hidden":!s,role:"rowgroup"},E()):k?t.createElement("div",{ref:g,className:"ag-header-viewport "+h,role:"rowgroup",tabIndex:-1},t.createElement("div",{ref:c,className:"ag-header-container",role:"presentation"},E())):null},De=(0,t.memo)(Wt),Tt=()=>{const[e,s]=(0,t.useState)(()=>new ue),[r,n]=(0,t.useState)(),{context:o}=(0,t.useContext)(ne),a=(0,t.useRef)(null),i=(0,t.useRef)(),c=(0,t.useCallback)(u=>{if(a.current=u,!u||o.isDestroyed()){i.current=o.destroyBean(i.current);return}i.current=o.createBean(new f.gA7);const k={toggleCss:(g,h)=>s(E=>E.setClass(g,h)),setHeightAndMinHeight:g=>n(g)};i.current.setComp(k,u,u)},[]),l=(0,t.useMemo)(()=>"ag-header "+e.toString(),[e]),p=(0,t.useMemo)(()=>({height:r,minHeight:r}),[r]);return t.createElement("div",{ref:c,className:l,style:p,role:"presentation"},t.createElement(De,{pinned:"left"}),t.createElement(De,{pinned:null}),t.createElement(De,{pinned:"right"}))},Nt=(0,t.memo)(Tt),Ht=(e,s)=>{(0,t.useEffect)(()=>{const r=s.current;if(r){const n=r.parentElement;if(n){const o=document.createComment(e);return n.insertBefore(o,r),()=>{n.removeChild(o)}}}},[e])},ye=Ht,Ut=class{constructor(e,s){this.cellEditorParams=e,this.refreshProps=s,this.instanceCreated=new f.j_S(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return ae($({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Ae(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var s;this.componentInstance=e,(s=this.resolveInstanceCreated)==null||s.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},_t=e=>{const s=(0,t.useRef)(e),r=(0,t.useRef)(),n=(0,t.useRef)(!1),o=(0,t.useRef)(!1),[,a]=(0,t.useState)(0);n.current&&(o.current=!0),(0,t.useEffect)(()=>(n.current||(r.current=s.current(),n.current=!0),a(i=>i+1),()=>{var i;o.current&&((i=r.current)==null||i.call(r))}),[])},Vt=e=>{const[s,r]=(0,t.useState)(),n=(0,t.useContext)(ne),{context:o,popupSvc:a,gos:i,editSvc:c}=n,{editDetails:l,cellCtrl:p,eParentCell:u}=e;return _t(()=>{var b,y;const{compDetails:k}=l,g=i.get("stopEditingWhenCellsLoseFocus");let h,E;if(!o.isDestroyed()){E=o.createBean(c.createPopupEditorWrapper(k.params));const d=E.getGui();if(e.jsChildComp){const P=e.jsChildComp.getGui();P&&d.appendChild(P)}const{column:M,rowNode:B}=p,S={column:M,rowNode:B,type:"popupCellEditor",eventSource:u,ePopup:d,position:l.popupPosition,keepWithinBounds:!0},m=a==null?void 0:a.positionPopupByComponent.bind(a,S),z=a==null?void 0:a.addPopup({modal:g,eChild:d,closeOnEsc:!0,closedCallback:()=>{p.onPopupEditorClosed()},anchorToElement:u,positionCallback:m,ariaOwns:u});h=z?z.hideFunc:void 0,r(E),(y=(b=e.jsChildComp)==null?void 0:b.afterGuiAttached)==null||y.call(b)}return()=>{h==null||h(),o.destroyBean(E)}}),(0,t.useLayoutEffect)(()=>()=>{p.isCellFocused()&&(s!=null&&s.getGui().contains((0,f.HB1)(n)))&&u.focus({preventScroll:!0})},[s]),s&&e.wrappedContent?(0,Ge.createPortal)(e.wrappedContent,s.getGui()):null},je=(0,t.memo)(Vt),Lt=(e,s,r)=>{const{compProxy:n}=e;r(n);const o=n.getProps(),a=Re(s);return t.createElement(Fe.Provider,{value:{setMethods:i=>n.setMethods(i)}},a?t.createElement(s,$({},o)):t.createElement(s,ae($({},o),{ref:i=>n.setRef(i)})))},ze=(e,s,r)=>e.compProxy?Lt(e,s,r):t.createElement(s,ae($({},e.compDetails.params),{ref:r})),jt=(e,s,r,n,o)=>{const a=e.compDetails,i=a.componentClass,c=a.componentFromFramework&&!e.popup,l=a.componentFromFramework&&e.popup,p=!a.componentFromFramework&&e.popup;return c?ze(e,i,s):l?t.createElement(je,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:ze(e,i,s)}):p&&o?t.createElement(je,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:o}):null},zt=(e,s,r,n,o,a)=>{const{context:i}=(0,t.useContext)(ne),c=(0,t.useCallback)(()=>{const l=o.current;if(!l)return;const p=l.getGui();p&&p.parentElement&&p.parentElement.removeChild(p),i.destroyBean(l),o.current=void 0},[]);(0,t.useEffect)(()=>{const l=e!=null,p=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,u=s&&r==null;if(!(l&&p&&!u)){c();return}const g=e.compDetails;if(o.current){const E=o.current,y=E.refresh!=null&&e.force==!1?E.refresh(g.params):!1;if(y===!0||y===void 0)return;c()}g.newAgStackInstance().then(E=>{if(!E)return;const b=E.getGui();if(!b)return;(s?r:a.current).appendChild(b),o.current=E})},[e,s,n]),(0,t.useEffect)(()=>c,[])},$e=zt,$t=({cellCtrl:e,parent:s})=>{var o;const r=(0,t.useRef)(),n=(0,t.useMemo)(()=>{const{loadingComp:a}=e.getDeferLoadingCellRenderer();return a?{value:void 0,compDetails:a,force:!1}:void 0},[e]);if($e(n,!1,void 0,1,r,s),(o=n==null?void 0:n.compDetails)!=null&&o.componentFromFramework){const a=n.compDetails.componentClass;return t.createElement(a,$({},n.compDetails.params))}return t.createElement(t.Fragment,null)},Jt=({cellCtrl:e,printLayout:s,editingCell:r})=>{const n=(0,t.useContext)(ne),{context:o}=n,{column:{colIdSanitised:a},instanceId:i}=e,c=(0,t.useRef)(),[l,p]=(0,t.useState)(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,k]=(0,t.useState)(),[g,h]=(0,t.useState)(1),[E,b]=(0,t.useState)(),[y,d]=(0,t.useState)(!1),[M,B]=(0,t.useState)(!1),[S,m]=(0,t.useState)(!1),[z,P]=(0,t.useState)(),_=(0,t.useMemo)(()=>e.isForceWrapper(),[e]),N=(0,t.useMemo)(()=>e.getCellAriaRole(),[e]),U=(0,t.useRef)(null),R=(0,t.useRef)(null),v=(0,t.useRef)(null),A=(0,t.useRef)(),G=(0,t.useRef)(),C=(0,t.useRef)(),V=(0,t.useRef)([]),L=(0,t.useRef)(),j=(0,t.useRef)(),[O,I]=(0,t.useState)(0),W=(0,t.useCallback)(x=>{j.current=x,I(H=>H+1)},[]),w=l!=null&&(y||S||M)&&(u==null||!!u.popup),D=_||w,Z=(0,t.useCallback)(x=>{if(G.current=x,x){const H=x.isCancelBeforeStart&&x.isCancelBeforeStart();setTimeout(()=>{H?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(x))})}},[e]),de=(0,t.useRef)();de.current||(de.current=new f.fRQ(()=>U.current)),$e(l,D,j.current,O,A,U);const me=(0,t.useRef)();(0,t.useLayoutEffect)(()=>{var F,T;const x=me.current,H=l;if(me.current=l,x==null||x.compDetails==null||H==null||H.compDetails==null)return;(F=L.current)==null||F.refreshVisibility();const re=x.compDetails,X=H.compDetails;if(re.componentClass!=X.componentClass||((T=v.current)==null?void 0:T.refresh)==null)return;v.current.refresh(X.params)!=!0&&h(oe=>oe+1)},[l]),(0,t.useLayoutEffect)(()=>{if(!(u&&!u.compDetails.componentFromFramework)||o.isDestroyed())return;const H=u.compDetails,re=u.popup===!0,X=H.newAgStackInstance();return X.then(Y=>{if(!Y)return;const F=Y.getGui();if(Z(Y),!re){const T=(_?C:U).current;T==null||T.appendChild(F),Y.afterGuiAttached&&Y.afterGuiAttached()}P(Y)}),()=>{X.then(Y=>{var T;const F=Y.getGui();e.disableEditorTooltipFeature(),o.destroyBean(Y),Z(void 0),P(void 0),(T=F==null?void 0:F.parentElement)==null||T.removeChild(F)})}},[u]);const Se=(0,t.useCallback)(x=>{if(C.current=x,!x||o.isDestroyed()||!e.isAlive()){const X=V.current;V.current=[];for(const Y of X)Y();return}let H;const re=X=>{X&&(x.insertAdjacentElement("afterbegin",X.getGui()),V.current.push(()=>{(0,f.taW)(X.getGui()),o.destroyBean(X),L.current===H&&(L.current=void 0)}))};y&&re(e.createSelectionCheckbox()),S&&re(e.createDndSource()),M&&(H=e.createRowDragComp(),L.current=H,H&&(re(H),H.refreshVisibility()))},[e,o,S,M,y]),we=(0,t.useCallback)(()=>{var Y;const x=!e.isCellSpanning()||R.current,H=U.current;if(!H||!x||!e||!e.isAlive()||o.isDestroyed()){c.current=o.destroyBean(c.current);return}c.current=o.createBean(new f.HGE);const re={toggleCss:(F,T)=>de.current.toggleCss(F,T),setUserStyles:F=>b(F),getFocusableElement:()=>U.current,setIncludeSelection:F=>d(F),setIncludeRowDrag:F=>B(F),setIncludeDndSource:F=>m(F),getCellEditor:()=>G.current||null,getCellRenderer:()=>{var F;return(F=v.current)!=null?F:A.current},getParentOfValue:()=>{var F,T;return(T=(F=j.current)!=null?F:C.current)!=null?T:U.current},setRenderDetails:(F,T,oe)=>{var he;const ge=()=>{p(K=>(K==null?void 0:K.compDetails)!==F||(K==null?void 0:K.value)!==T||(K==null?void 0:K.force)!==oe?{value:T,compDetails:F,force:oe}:K)};if((he=F==null?void 0:F.params)!=null&&he.deferRender&&!e.rowNode.group){const{loadingComp:K,onReady:Oe}=e.getDeferLoadingCellRenderer();if(K){p({value:void 0,compDetails:K,force:!1}),Oe.then(()=>at(ge));return}}ge()},setEditDetails:(F,T,oe,ge)=>{if(F){let he;F.componentFromFramework&&(ge?he=new Ut(F.params,()=>h(K=>K+1)):Ie()),k({compDetails:F,popup:T,popupPosition:oe,compProxy:he}),T||p(void 0)}else e.hasBrowserFocus()&&re.getFocusableElement().focus({preventScroll:!0}),k(K=>{K!=null&&K.compProxy&&(G.current=void 0)})},refreshEditStyles:(F,T)=>{if(!U.current)return;const{current:oe}=de;oe.toggleCss("ag-cell-value",!D),oe.toggleCss("ag-cell-inline-editing",!!F&&!T),oe.toggleCss("ag-cell-popup-editing",!!F&&!!T),oe.toggleCss("ag-cell-not-inline-editing",!F||!!T)}},X=C.current||void 0;e.setComp(re,H,(Y=R.current)!=null?Y:void 0,X,s,r,c.current)},[]),Pe=(0,t.useCallback)(x=>{U.current=x,we()},[]),J=(0,t.useCallback)(x=>{R.current=x,we()},[]),fe=(0,t.useMemo)(()=>{var H;return!!(((H=l==null?void 0:l.compDetails)==null?void 0:H.componentFromFramework)&&Re(l.compDetails.componentClass))},[l]);(0,t.useLayoutEffect)(()=>{if(!U.current)return;const{current:x}=de;x.toggleCss("ag-cell-value",!D),x.toggleCss("ag-cell-inline-editing",!!u&&!u.popup),x.toggleCss("ag-cell-popup-editing",!!u&&!!u.popup),x.toggleCss("ag-cell-not-inline-editing",!u||!!u.popup)});const se=()=>{var re,X;const{compDetails:x,value:H}=l;if(!x)return(X=(re=H==null?void 0:H.toString)==null?void 0:re.call(H))!=null?X:H;if(x.componentFromFramework){const Y=x.componentClass;return t.createElement(t.Suspense,{fallback:t.createElement($t,{cellCtrl:e,parent:U})},fe?t.createElement(Y,ae($({},x.params),{key:g})):t.createElement(Y,ae($({},x.params),{key:g,ref:v})))}},pe=()=>{const x=()=>l==null?null:D?t.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:W},se()):se(),H=re=>jt(re,Z,U.current,e,z);return u!=null?u.popup?t.createElement(t.Fragment,null,x(),H(u)):H(u):x()},Ce=()=>t.createElement("div",{ref:Pe,style:E,role:N,"col-id":a},D?t.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Se},pe()):pe());return e.isCellSpanning()?t.createElement("div",{ref:J,className:"ag-spanned-cell-wrapper",role:"presentation"},Ce()):Ce()},Qt=(0,t.memo)(Jt),Kt=({rowCtrl:e,containerType:s})=>{const{context:r,gos:n,editSvc:o}=(0,t.useContext)(ne),a=(0,t.useContext)(We)==="default",i=(0,t.useRef)(),c=(0,t.useRef)(e.getDomOrder()),l=e.isFullWidth(),p=e.rowNode.displayed,[u,k]=(0,t.useState)(()=>p?e.rowNode.getRowIndexString():null),[g,h]=(0,t.useState)(()=>e.rowId),[E,b]=(0,t.useState)(()=>e.businessKey),[y,d]=(0,t.useState)(()=>e.rowStyles),M=(0,t.useRef)(null),[B,S]=(0,t.useState)(()=>null),[m,z]=(0,t.useState)(),[P,_]=(0,t.useState)(()=>p?e.getInitialRowTop(s):void 0),[N,U]=(0,t.useState)(()=>p?e.getInitialTransform(s):void 0),R=(0,t.useRef)(null),v=(0,t.useRef)(),A=(0,t.useRef)(),G=(0,t.useRef)(!1),[C,V]=(0,t.useState)(0);(0,t.useEffect)(()=>{var fe;if(G.current||!m||C>10)return;const J=(fe=R.current)==null?void 0:fe.firstChild;J?(e.setupDetailRowAutoHeight(J),G.current=!0):V(se=>se+1)},[m,C]);const L=(0,t.useRef)();L.current||(L.current=new f.fRQ(()=>R.current));const j=(0,t.useRef)(()=>{}),O=(0,t.useCallback)(J=>(j.current=J,()=>{j.current=()=>{}}),[]),I=ct(O,()=>M.current,[]),W=a?I:B,w=(0,t.useCallback)(J=>{if(R.current=J,i.current=J?r.createBean(new f.HGE):r.destroyBean(i.current),!J){e.unsetComp(s);return}if(!e.isAlive()||r.isDestroyed())return;const fe={setTop:_,setTransform:U,toggleCss:(se,pe)=>L.current.toggleCss(se,pe),setDomOrder:se=>c.current=se,setRowIndex:k,setRowId:h,setRowBusinessKey:b,setUserStyles:d,setCellCtrls:(se,pe)=>{const Ce=M.current,x=Me(Ce,se,c.current);x!==Ce&&(M.current=x,a?j.current():Ee(pe,()=>S(x)))},showFullWidth:se=>{A.current=se.params,z(se)},getFullWidthCellRenderer:()=>v.current,getFullWidthCellRendererParams:()=>A.current,refreshFullWidth:se=>{const pe=se();return A.current=pe,Se.current?(z(Ce=>ae($({},Ce),{params:pe})),!0):!v.current||!v.current.refresh?!1:v.current.refresh(pe)}};e.setComp(fe,J,s,i.current)},[]);(0,t.useLayoutEffect)(()=>be(m,r,R.current,v),[m]);const D=(0,t.useMemo)(()=>{const J={top:P,transform:N};return Object.assign(J,y),J},[P,N,y]),Z=l&&(m==null?void 0:m.componentFromFramework),de=!l&&W!=null,me=(0,t.useMemo)(()=>!!((m==null?void 0:m.componentFromFramework)&&Re(m.componentClass)),[m]),Se=(0,t.useRef)(!1);(0,t.useEffect)(()=>{Se.current=me&&!!m&&!!n.get("reactiveCustomComponents")},[me,m]);const we=()=>W==null?void 0:W.map(J=>{var fe;return t.createElement(Qt,{cellCtrl:J,editingCell:(fe=o==null?void 0:o.isEditing(J,{withOpenEditor:!0}))!=null?fe:!1,printLayout:e.printLayout,key:J.instanceId})}),Pe=()=>{const J=m.componentClass;return me?t.createElement(J,$({},m.params)):t.createElement(J,ae($({},m.params),{ref:v}))};return t.createElement("div",{ref:w,role:"row",style:D,"row-index":u,"row-id":g,"row-business-key":E},de?we():Z?Pe():null)},Je=(0,t.memo)(Kt),Yt=({name:e})=>{const{context:s,gos:r}=(0,t.useContext)(ne),n=(0,t.useMemo)(()=>(0,f.TjA)(e),[e]),o=(0,t.useRef)(null),a=(0,t.useRef)(null),i=(0,t.useRef)(null),c=(0,t.useRef)([]),l=(0,t.useRef)([]),[p,u]=(0,t.useState)(()=>[]),k=!!r.get("enableCellSpan")&&!!n.getSpannedRowCtrls,g=(0,t.useRef)([]),h=(0,t.useRef)([]),[E,b]=(0,t.useState)(()=>[]),y=(0,t.useRef)(!1),d=(0,t.useRef)(),M=(0,t.useMemo)(()=>ie("ag-viewport",(0,f.xGN)(e)),[e]),B=(0,t.useMemo)(()=>ie((0,f.b4l)(e)),[e]),S=(0,t.useMemo)(()=>ie("ag-spanning-container",(0,f.$Yu)(e)),[e]),m=n.type==="center"||k,z=m?o:a;ye(" AG Row Container "+e+" ",z);const P=(0,t.useCallback)(()=>{const C=!m||o.current!=null,V=a.current!=null,L=!k||i.current!=null;return C&&V&&L},[]),_=(0,t.useCallback)(()=>o.current==null&&a.current==null&&i.current==null,[]),N=(0,t.useCallback)(()=>{var C;if(_()&&(d.current=s.destroyBean(d.current)),!s.isDestroyed()&&P()){const V=O=>{const I=Me(l.current,c.current,y.current);I!==l.current&&(l.current=I,Ee(O,()=>u(I)))},L=O=>{const I=Me(h.current,g.current,y.current);I!==h.current&&(h.current=I,Ee(O,()=>b(I)))},j={setHorizontalScroll:O=>{o.current&&(o.current.scrollLeft=O)},setViewportHeight:O=>{o.current&&(o.current.style.height=O)},setRowCtrls:({rowCtrls:O,useFlushSync:I})=>{const W=!!I&&c.current.length>0&&O.length>0;c.current=O,V(W)},setSpannedRowCtrls:(O,I)=>{const W=!!I&&g.current.length>0&&O.length>0;g.current=O,L(W)},setDomOrder:O=>{y.current!=O&&(y.current=O,V(!1))},setContainerWidth:O=>{a.current&&(a.current.style.width=O)},setOffsetTop:O=>{a.current&&(a.current.style.transform=`translateY(${O})`)}};d.current=s.createBean(new f.RiB(e)),d.current.setComp(j,a.current,(C=i.current)!=null?C:void 0,o.current)}},[P,_]),U=(0,t.useCallback)(C=>{a.current=C,N()},[N]),R=(0,t.useCallback)(C=>{i.current=C,N()},[N]),v=(0,t.useCallback)(C=>{o.current=C,N()},[N]),A=()=>t.createElement("div",{className:B,ref:U,role:m?"presentation":"rowgroup"},p.map(C=>t.createElement(Je,{rowCtrl:C,containerType:n.type,key:C.instanceId})));if(!m)return A();const G=()=>t.createElement("div",{className:S,ref:R,role:"presentation"},E.map(C=>t.createElement(Je,{rowCtrl:C,containerType:n.type,key:C.instanceId})));return t.createElement("div",{className:M,ref:v,role:"rowgroup"},A(),k?G():null)},qt=(0,t.memo)(Yt),Zt=()=>{const e=(0,t.useContext)(ne),{context:s,overlays:r}=e,[n,o]=(0,t.useState)(""),[a,i]=(0,t.useState)(0),[c,l]=(0,t.useState)(0),[p,u]=(0,t.useState)("0px"),[k,g]=(0,t.useState)("0px"),[h,E]=(0,t.useState)("100%"),[b,y]=(0,t.useState)("0px"),[d,M]=(0,t.useState)("0px"),[B,S]=(0,t.useState)("100%"),[m,z]=(0,t.useState)(!0),[P,_]=(0,t.useState)(!0),[N,U]=(0,t.useState)(null),[R,v]=(0,t.useState)(""),[A,G]=(0,t.useState)(null),[C,V]=(0,t.useState)("ag-layout-normal"),L=(0,t.useRef)();L.current||(L.current=new f.fRQ(()=>j.current));const j=(0,t.useRef)(null),O=(0,t.useRef)(null),I=(0,t.useRef)(null),W=(0,t.useRef)(null),w=(0,t.useRef)(null),D=(0,t.useRef)(null),Z=(0,t.useRef)(null),de=(0,t.useRef)([]),me=(0,t.useRef)([]);ye(" AG Grid Body ",j),ye(" AG Pinned Top ",O),ye(" AG Sticky Top ",I),ye(" AG Middle ",D),ye(" AG Pinned Bottom ",Z);const Se=(0,t.useCallback)(T=>{if(j.current=T,!T||s.isDestroyed()){de.current=s.destroyBeans(de.current),me.current.forEach(Q=>Q()),me.current=[];return}const oe=(Q,le)=>{Q.appendChild(le),me.current.push(()=>Q.removeChild(le))},ge=Q=>{const le=s.createBean(new Q);return de.current.push(le),le},he=(Q,le,hs)=>{oe(Q,document.createComment(hs)),oe(Q,ge(le).getGui())};he(T,f.iVQ," AG Fake Horizontal Scroll ");const K=r==null?void 0:r.getOverlayWrapperCompClass();K&&he(T,K," AG Overlay Wrapper "),w.current&&he(w.current,f._P_," AG Fake Vertical Scroll ");const Oe={setRowAnimationCssOnBodyViewport:o,setColumnCount:Q=>{j.current&&(0,f.FN9)(j.current,Q)},setRowCount:Q=>{j.current&&(0,f.OtO)(j.current,Q)},setTopHeight:i,setBottomHeight:l,setStickyTopHeight:u,setStickyTopTop:g,setStickyTopWidth:E,setTopInvisible:z,setBottomInvisible:_,setColumnMovingCss:(Q,le)=>L.current.toggleCss(Q,le),updateLayoutClasses:V,setAlwaysVerticalScrollClass:U,setPinnedTopBottomOverflowY:v,setCellSelectableCss:(Q,le)=>G(le?Q:null),setBodyViewportWidth:Q=>{D.current&&(D.current.style.width=Q)},registerBodyViewportResizeListener:Q=>{if(D.current){const le=(0,f.OpL)(e,D.current,Q);me.current.push(()=>le())}},setStickyBottomHeight:y,setStickyBottomBottom:M,setStickyBottomWidth:S,setGridRootRole:Q=>T.setAttribute("role",Q)},Ze=s.createBean(new f.wox);de.current.push(Ze),Ze.setComp(Oe,T,D.current,O.current,Z.current,I.current,W.current)},[]),we=(0,t.useMemo)(()=>ie("ag-root","ag-unselectable",C),[C]),Pe=(0,t.useMemo)(()=>ie("ag-body-viewport",n,C,N,A),[n,C,N,A]),J=(0,t.useMemo)(()=>ie("ag-body",C),[C]),fe=(0,t.useMemo)(()=>ie("ag-floating-top",m?"ag-invisible":null,A),[A,m]),se=(0,t.useMemo)(()=>ie("ag-sticky-top",A),[A]),pe=(0,t.useMemo)(()=>ie("ag-sticky-bottom",b==="0px"?"ag-invisible":null,A),[A,b]),Ce=(0,t.useMemo)(()=>ie("ag-floating-bottom",P?"ag-invisible":null,A),[A,P]),x=(0,t.useMemo)(()=>({height:a,minHeight:a,overflowY:R}),[a,R]),H=(0,t.useMemo)(()=>({height:p,top:k,width:h}),[p,k,h]),re=(0,t.useMemo)(()=>({height:b,bottom:d,width:B}),[b,d,B]),X=(0,t.useMemo)(()=>({height:c,minHeight:c,overflowY:R}),[c,R]),Y=T=>t.createElement(qt,{name:T,key:`${T}-container`}),F=({section:T,children:oe,className:ge,style:he})=>t.createElement("div",{ref:T,className:ge,role:"presentation",style:he},oe.map(Y));return t.createElement("div",{ref:Se,className:we},t.createElement(Nt,null),F({section:O,className:fe,style:x,children:["topLeft","topCenter","topRight","topFullWidth"]}),t.createElement("div",{className:J,ref:w,role:"presentation"},F({section:D,className:Pe,children:["left","center","right","fullWidth"]})),F({section:I,className:se,style:H,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),F({section:W,className:pe,style:re,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),F({section:Z,className:Ce,style:X,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Xt=(0,t.memo)(Zt),es=(e,s)=>{const{children:r,eFocusableElement:n,onTabKeyDown:o,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:i,isEmpty:c}=e,{context:l}=(0,t.useContext)(ne),p=(0,t.useRef)(null),u=(0,t.useRef)(null),k=(0,t.useRef)(),g=d=>{const M=d==null?void 0:parseInt(d,10).toString();[p,u].forEach(B=>{var S,m;M===void 0?(S=B.current)==null||S.removeAttribute("tabindex"):(m=B.current)==null||m.setAttribute("tabindex",M)})};(0,t.useImperativeHandle)(s,()=>({forceFocusOutOfContainer(d){var M;(M=k.current)==null||M.forceFocusOutOfContainer(d)}}));const h=(0,t.useCallback)(()=>{const d=p.current,M=u.current;if(!d&&!M||l.isDestroyed()){k.current=l.destroyBean(k.current);return}if(d&&M){const B={setTabIndex:g};k.current=l.createBean(new f.s$r({comp:B,eTopGuard:d,eBottomGuard:M,eFocusableElement:n,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:i,focusInnerElement:S=>a.focusInnerElement(S),isEmpty:c}))}},[]),E=(0,t.useCallback)(d=>{p.current=d,h()},[h]),b=(0,t.useCallback)(d=>{u.current=d,h()},[h]),y=d=>{const M=d==="top"?f.zn.TAB_GUARD_TOP:f.zn.TAB_GUARD_BOTTOM;return t.createElement("div",{className:`${f.zn.TAB_GUARD} ${M}`,role:"presentation",ref:d==="top"?E:b})};return t.createElement(t.Fragment,null,y("top"),r,y("bottom"))},ts=(0,t.forwardRef)(es),ss=(0,t.memo)(ts),rs=({context:e})=>{const[s,r]=(0,t.useState)(""),[n,o]=(0,t.useState)(""),[a,i]=(0,t.useState)(null),[c,l]=(0,t.useState)(null),[p,u]=(0,t.useState)(!1),[k,g]=(0,t.useState)(),h=(0,t.useRef)(),E=(0,t.useRef)(null),b=(0,t.useRef)(),[y,d]=(0,t.useState)(null),M=(0,t.useRef)(()=>{}),B=(0,t.useRef)(),S=(0,t.useRef)([]),m=(0,t.useCallback)(()=>{},[]);ye(" AG Grid ",E);const z=(0,t.useCallback)(v=>{if(E.current=v,h.current=v?e.createBean(new f.l3s):e.destroyBean(h.current),!v||e.isDestroyed())return;const A=h.current;M.current=A.focusInnerElement.bind(A);const G={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:C=>{var V,L;if(!C&&((V=B.current)!=null&&V.isDisplayed())){B.current.forceFocusOutOfContainer(C);return}(L=b.current)==null||L.forceFocusOutOfContainer(C)},updateLayoutClasses:o,getFocusableContainers:()=>{var L;const C=[],V=(L=E.current)==null?void 0:L.querySelector(".ag-root");return V&&C.push({getGui:()=>V}),S.current.forEach(j=>{j.isDisplayed()&&C.push(j)}),C},setCursor:i,setUserSelect:l};A.setComp(G,v,v),u(!0)},[]);(0,t.useEffect)(()=>{const v=h.current,A=E.current;if(!k||!v||!y||!A||e.isDestroyed())return;const G=[],{watermarkSelector:C,paginationSelector:V,sideBarSelector:L,statusBarSelector:j,gridHeaderDropZonesSelector:O}=v.getOptionalSelectors(),I=[];if(O){const w=e.createBean(new O.component),D=w.getGui();A.insertAdjacentElement("afterbegin",D),I.push(D),G.push(w)}if(L){const w=e.createBean(new L.component),D=w.getGui(),Z=y.querySelector(".ag-tab-guard-bottom");Z&&(Z.insertAdjacentElement("beforebegin",D),I.push(D)),G.push(w),S.current.push(w)}const W=w=>{const D=e.createBean(new w),Z=D.getGui();return A.insertAdjacentElement("beforeend",Z),I.push(Z),G.push(D),D};if(j&&W(j.component),V){const w=W(V.component);B.current=w,S.current.push(w)}return C&&W(C.component),()=>{e.destroyBeans(G),I.forEach(w=>{var D;(D=w.parentElement)==null||D.removeChild(w)})}},[k,y,e]);const P=(0,t.useMemo)(()=>ie("ag-root-wrapper",s,n),[s,n]),_=(0,t.useMemo)(()=>ie("ag-root-wrapper-body","ag-focus-managed",n),[n]),N=(0,t.useMemo)(()=>({userSelect:c!=null?c:"",WebkitUserSelect:c!=null?c:"",cursor:a!=null?a:""}),[c,a]),U=(0,t.useCallback)(v=>{b.current=v,g(v!==null)},[]),R=(0,t.useCallback)(()=>{var v;return!((v=h.current)!=null&&v.isFocusable())},[]);return t.createElement("div",{ref:z,className:P,style:N,role:"presentation"},t.createElement("div",{className:_,ref:d,role:"presentation"},p&&y&&!e.isDestroyed()&&t.createElement(ne.Provider,{value:e.getBeans()},t.createElement(ss,{ref:U,eFocusableElement:y,onTabKeyDown:m,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:R},t.createElement(Xt,null)))))},ns=(0,t.memo)(rs),os=class extends f.AS9{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(s=>s.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(s=>!!s.eGui))}},Qe={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},as=$({gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0},Qe),Ke=new Set(Object.keys(as)),cs=new Set(Object.keys(Qe)),Ye=e=>{var d,M;const s=(0,t.useRef)(),r=(0,t.useRef)(null),n=(0,t.useRef)(null),o=(0,t.useRef)([]),a=(0,t.useRef)([]),i=(0,t.useRef)(e),c=(0,t.useRef)(),l=(0,t.useRef)(),p=(0,t.useRef)(!1),[u,k]=(0,t.useState)(void 0),[,g]=(0,t.useState)(0),h=(0,t.useCallback)(B=>{var A;if(r.current=B,!B){o.current.forEach(G=>G()),o.current.length=0;return}const S=e.modules||[];n.current||(n.current=new kt(()=>g(G=>G+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push(()=>{var G;(G=n.current)==null||G.destroy(),n.current=null}));const m=(0,f.F97)(e.gridOptions,e,Object.keys(e).filter(G=>!Ke.has(G))),z=()=>{if(p.current){const G=()=>{var V;return(V=c.current)!=null&&V.shouldQueueUpdates()?void 0:a.current.shift()};let C=G();for(;C;)C(),C=G()}},P=new ds(z);c.current=P;const _=new os,N={providedBeanInstances:{frameworkCompWrapper:new is(n.current,m),renderStatus:_},modules:S,frameworkOverrides:P,setThemeOnGridDiv:!0},U=G=>{k(G),G.createBean(_),o.current.push(()=>{G.destroy()}),G.getBean("ctrlsSvc").whenReady({addDestroyFunc:C=>{o.current.push(C)}},()=>{var V;if(G.isDestroyed())return;const C=s.current;C&&((V=e.passGridApi)==null||V.call(e,C))})},R=G=>{G.getBean("ctrlsSvc").whenReady({addDestroyFunc:C=>{o.current.push(C)}},()=>{a.current.forEach(C=>C()),a.current.length=0,p.current=!0})},v=new f.zmG;(A=m.gridId)!=null||(m.gridId=l.current),s.current=v.create(B,m,U,R,N),o.current.push(()=>{s.current=void 0}),s.current&&(l.current=s.current.getGridId())},[]),E=(0,t.useMemo)(()=>$({height:"100%"},e.containerStyle||{}),[e.containerStyle]),b=(0,t.useCallback)(B=>{var S;p.current&&!((S=c.current)!=null&&S.shouldQueueUpdates())?B():a.current.push(B)},[]);(0,t.useEffect)(()=>{const B=ls(i.current,e);i.current=e,b(()=>{s.current&&(0,f.UgJ)(B,s.current)})},[e]);const y=!t.useSyncExternalStore||(0,f.DMj)(e,"renderingMode")==="legacy"?"legacy":"default";return t.createElement("div",{style:E,className:e.className,ref:h},t.createElement(We.Provider,{value:y},u&&!u.isDestroyed()?t.createElement(ns,{key:u.instanceId,context:u}):null,(M=(d=n.current)==null?void 0:d.getPortals())!=null?M:null))};function ls(e,s){const r={};return Object.keys(s).forEach(n=>{if(Ke.has(n)){cs.has(n)&&(0,f.F5b)(274,{prop:n});return}const o=s[n];e[n]!==o&&(r[n]=o)}),r}var is=class extends f.Nk3{constructor(e,s){super(),this.parent=e,this.gridOptions=s}createWrapper(e,s){const r=this.gridOptions;if((0,f.DMj)(r,"reactiveCustomComponents")){const i=(c=>{switch(c){case"filter":return(0,f.DMj)(r,"enableFilterHandlers")?ft:mt;case"floatingFilterComponent":return(0,f.DMj)(r,"enableFilterHandlers")?yt:gt;case"dateComponent":return pt;case"dragAndDropImageComponent":return ht;case"loadingOverlayComponent":return vt;case"noRowsOverlayComponent":return wt;case"statusPanel":return bt;case"toolPanel":return Et;case"menuItem":return St;case"cellRenderer":return dt;case"innerHeaderComponent":return Rt}})(s.name);if(i)return new i(e,this.parent,s)}else switch(s.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ie();break}const o=!s.cellRenderer&&s.name!=="toolPanel";return new Ve(e,this.parent,s,o)}},us=(0,t.forwardRef)((e,s)=>{const r=(0,t.useContext)(ne),{registry:n,context:o,gos:a,rowModel:i}=r,[c,l]=(0,t.useState)(()=>new ue),[p,u]=(0,t.useState)(()=>new ue),[k,g]=(0,t.useState)(),[h,E]=(0,t.useState)(),b=(0,t.useRef)(),y=(0,t.useRef)(null),d=(0,t.useRef)(),M=(0,t.useMemo)(()=>{var P;return(0,f.$4t)(e.api.getGridId(),(P=k==null?void 0:k.rowModelType)!=null?P:"clientSide")},[e]),B=(0,t.useMemo)(()=>c.toString()+" ag-details-row",[c]),S=(0,t.useMemo)(()=>p.toString()+" ag-details-grid",[p]);s&&(0,t.useImperativeHandle)(s,()=>({refresh(){var P,_;return(_=(P=b.current)==null?void 0:P.refresh())!=null?_:!1}})),e.template&&(0,f.F5b)(230);const m=(0,t.useCallback)(P=>{var U;if(y.current=P,!P||o.isDestroyed()){b.current=o.destroyBean(b.current),(U=d.current)==null||U.call(d);return}const _={toggleCss:(R,v)=>l(A=>A.setClass(R,v)),toggleDetailGridCss:(R,v)=>u(A=>A.setClass(R,v)),setDetailGrid:R=>g(R),setRowData:R=>E(R),getGui:()=>y.current},N=n.createDynamicBean("detailCellRendererCtrl",!0);if(N&&(o.createBean(N),N.init(_,e),b.current=N,a.get("detailRowAutoHeight"))){const R=()=>{if(y.current==null)return;const v=y.current.clientHeight;v!=null&&v>0&&setTimeout(()=>{e.node.setRowHeight(v),((0,f.qYz)(a,i)||(0,f.jie)(a,i))&&i.onRowHeightChanged()},0)};d.current=(0,f.OpL)(r,P,R),R()}},[]),z=(0,t.useCallback)(P=>{var _;(_=b.current)==null||_.registerDetailWithMaster(P)},[]);return t.createElement("div",{className:B,ref:m},k&&t.createElement(Ye,ae($({className:S},k),{modules:M,rowData:h,passGridApi:z})))}),ds=class extends f.vA3{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:Ue,agGroupRowRenderer:Ue,agDetailCellRenderer:us},this.wrapIncoming=(s,r)=>r==="ensureVisible"?ot(s):s()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const s=e.prototype;return!(s&&"getGui"in s)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return nt()}},ps=class extends t.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(s=>s(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return t.createElement(Ye,ae($({},this.props),{passGridApi:this.setGridApi}))}};function ve(e){const{setMethods:s}=useContext16(Fe);s(e)}function ys(e){ve(e)}function Rs(e){return ve(e)}function vs(e){return ve(e)}function Ss(e){return ve(e)}function ws(e){ve(e)}function bs(e){ve(e)}}}]);
}());