"use strict";(self.webpackChunkbiominer_indexd_studio=self.webpackChunkbiominer_indexd_studio||[]).push([[4063],{38928:function(hs,Yi){var Ct={},lt=typeof Map=="function"?new Map:null,U="swap",_t="move",Xi="synchronize",et="layoutStart",ge="layoutEnd",ye="layoutAbort",Se="add",De="remove",Ni="showStart",Hi="showEnd",Dt="hideStart",Gi="hideEnd",Ee="filter",Te="sort",Pt="move",Mt="send",it="beforeSend",Ot="receive",Yt="beforeReceive",qi="dragInit",Vi="dragStart",Bi="dragMove",Wi="dragScroll",Fi="dragEnd",zi="dragReleaseStart",Et="dragReleaseEnd",Ui="destroy",Ae="ontouchstart"in window,ee=!!window.PointerEvent,ie=!!window.navigator.msPointerEnabled,ji=16777216;function W(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}W.prototype.on=function(t,e){if(!this._events||!t||!e)return this;var i=this._events[t];return i||(i=this._events[t]=[]),i.push(e),this},W.prototype.off=function(t,e){if(!this._events||!t||!e)return this;var i=this._events[t];if(!i||!i.length)return this;for(var r;(r=i.indexOf(e))!==-1;)i.splice(r,1);return this},W.prototype.clear=function(t){if(!this._events||!t)return this;var e=this._events[t];return e&&(e.length=0,delete this._events[t]),this},W.prototype.emit=function(t){if(!this._events||!t)return this._clearOnEmit=!1,this;var e=this._events[t];if(!e||!e.length)return this._clearOnEmit=!1,this;var i=this._queue,r=i.length,s=arguments.length-1,o;s>3&&(o=[],o.push.apply(o,arguments),o.shift()),i.push.apply(i,e),this._clearOnEmit&&(e.length=0,this._clearOnEmit=!1),++this._counter;for(var n=r,a=i.length;n<a;n++)if(s===0?i[n]():s===1?i[n](arguments[1]):s===2?i[n](arguments[1],arguments[2]):s===3?i[n](arguments[1],arguments[2],arguments[3]):i[n].apply(null,o),!this._events)return this;return--this._counter,this._counter||(i.length=0),this},W.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this},W.prototype.countListeners=function(t){if(!this._events)return 0;var e=this._events[t];return e?e.length:0},W.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var Xt=ee?"pointerout":ie?"MSPointerOut":"",Zi=100;function rt(t){Xt&&(this._dragger=t,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}rt.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(Xt,this._onOut))},rt.prototype._removeBehaviour=function(){this._isActive&&(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(Xt,this._onOut),this._resetData(),this._isActive=!1)},rt.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null},rt.prototype._onStart=function(t){t.pointerType!=="mouse"&&this._addBehaviour()},rt.prototype._onOut=function(t){this._dragger._getTrackedTouch(t)&&(this._resetData(),this._outEvent=t,this._timeout=window.setTimeout(this._onTimeout,Zi))},rt.prototype._onTimeout=function(){var t=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(t)},rt.prototype.destroy=function(){Xt&&(this._dragger.off("start",this._onStart),this._removeBehaviour())};var re=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],we={};function Nt(t,e){var i=we[e]||"";if(i)return i;for(var r=e[0].toUpperCase()+e.slice(1),s=0;s<re.length;){if(i=re[s]?re[s]+r:e,i in t)return we[e]=i,i;++s}return""}function Re(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(i){}return t}var Ht=window.navigator.userAgent.toLowerCase(),Qi=Ht.indexOf("edge")>-1,Ki=Ht.indexOf("trident")>-1,$i=Ht.indexOf("firefox")>-1,Ji=Ht.indexOf("android")>-1,st=Re()?{passive:!0}:!1,be="touchAction",Gt=Nt(document.documentElement.style,be),tr="auto";function d(t,e){this._element=t,this._emitter=new W,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(Qi||Ki)&&(ee||ie)&&(this._edgeHack=new rt(this)),this.setCssProps(e),this._touchAction||this.setTouchAction(tr),t.addEventListener("dragstart",d._preventDefault,!1),t.addEventListener(d._inputEvents.start,this._onStart,st)}d._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"},d._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"},d._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"},d._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"},d._inputEvents=function(){return Ae?d._touchEvents:ee?d._pointerEvents:ie?d._msPointerEvents:d._mouseEvents}(),d._emitter=new W,d._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"},d._activeInstances=[],d._preventDefault=function(t){t.preventDefault&&t.cancelable!==!1&&t.preventDefault()},d._activateInstance=function(t){var e=d._activeInstances.indexOf(t);e>-1||(d._activeInstances.push(t),d._emitter.on(d._emitterEvents.move,t._onMove),d._emitter.on(d._emitterEvents.cancel,t._onCancel),d._emitter.on(d._emitterEvents.end,t._onEnd),d._activeInstances.length===1&&d._bindListeners())},d._deactivateInstance=function(t){var e=d._activeInstances.indexOf(t);e!==-1&&(d._activeInstances.splice(e,1),d._emitter.off(d._emitterEvents.move,t._onMove),d._emitter.off(d._emitterEvents.cancel,t._onCancel),d._emitter.off(d._emitterEvents.end,t._onEnd),d._activeInstances.length||d._unbindListeners())},d._bindListeners=function(){window.addEventListener(d._inputEvents.move,d._onMove,st),window.addEventListener(d._inputEvents.end,d._onEnd,st),d._inputEvents.cancel&&window.addEventListener(d._inputEvents.cancel,d._onCancel,st)},d._unbindListeners=function(){window.removeEventListener(d._inputEvents.move,d._onMove,st),window.removeEventListener(d._inputEvents.end,d._onEnd,st),d._inputEvents.cancel&&window.removeEventListener(d._inputEvents.cancel,d._onCancel,st)},d._getEventPointerId=function(t){return typeof t.pointerId=="number"?t.pointerId:t.changedTouches?t.changedTouches[0]?t.changedTouches[0].identifier:null:1},d._getTouchById=function(t,e){if(typeof t.pointerId=="number")return t.pointerId===e?t:null;if(t.changedTouches){for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier===e)return t.changedTouches[i];return null}return t},d._onMove=function(t){d._emitter.emit(d._emitterEvents.move,t)},d._onCancel=function(t){d._emitter.emit(d._emitterEvents.cancel,t)},d._onEnd=function(t){d._emitter.emit(d._emitterEvents.end,t)},d.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,d._deactivateInstance(this)},d.prototype._createEvent=function(t,e){var i=this._getTrackedTouch(e);return{type:t,srcEvent:e,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:t===d._emitterEvents.start?0:this.getDeltaTime(),isFirst:t===d._emitterEvents.start,isFinal:t===d._emitterEvents.end||t===d._emitterEvents.cancel,pointerType:e.pointerType||(e.touches?"touch":"mouse"),identifier:this._pointerId,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,target:i.target}},d.prototype._emit=function(t,e){this._emitter.emit(t,this._createEvent(t,e))},d.prototype._getTrackedTouch=function(t){return this._pointerId===null?null:d._getTouchById(t,this._pointerId)},d.prototype._onStart=function(t){if(!this._isDestroyed&&this._pointerId===null&&(this._pointerId=d._getEventPointerId(t),this._pointerId!==null)){var e=this._getTrackedTouch(t);this._startX=this._currentX=e.clientX,this._startY=this._currentY=e.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(d._emitterEvents.start,t),this._isActive&&d._activateInstance(this)}},d.prototype._onMove=function(t){var e=this._getTrackedTouch(t);e&&(this._currentX=e.clientX,this._currentY=e.clientY,this._emit(d._emitterEvents.move,t))},d.prototype._onCancel=function(t){this._getTrackedTouch(t)&&(this._emit(d._emitterEvents.cancel,t),this._reset())},d.prototype._onEnd=function(t){this._getTrackedTouch(t)&&(this._emit(d._emitterEvents.end,t),this._reset())},d.prototype.isActive=function(){return this._isActive},d.prototype.setTouchAction=function(t){this._touchAction=t,Gt&&(this._cssProps[Gt]="",this._element.style[Gt]=t),Ae&&(this._element.removeEventListener(d._touchEvents.start,d._preventDefault,!0),(this._element.style[Gt]!==t||$i&&Ji)&&this._element.addEventListener(d._touchEvents.start,d._preventDefault,!0))},d.prototype.setCssProps=function(t){if(t){var e=this._cssProps,i=this._element,r,s;for(r in e)i.style[r]=e[r],delete e[r];for(r in t)if(t[r]){if(r===be){this.setTouchAction(t[r]);continue}s=Nt(i.style,r),s&&(e[s]="",i.style[s]=t[r])}}},d.prototype.getDeltaX=function(){return this._currentX-this._startX},d.prototype.getDeltaY=function(){return this._currentY-this._startY},d.prototype.getDistance=function(){var t=this.getDeltaX(),e=this.getDeltaY();return Math.sqrt(t*t+e*e)},d.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0},d.prototype.on=function(t,e){this._emitter.on(t,e)},d.prototype.off=function(t,e){this._emitter.off(t,e)},d.prototype.destroy=function(){if(!this._isDestroyed){var t=this._element;this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),t.removeEventListener(d._inputEvents.start,this._onStart,st),t.removeEventListener("dragstart",d._preventDefault,!1),t.removeEventListener(d._touchEvents.start,d._preventDefault,!0);for(var e in this._cssProps)t.style[e]=this._cssProps[e],delete this._cssProps[e];this._element=null,this._isDestroyed=!0}};var er=1e3/60,ir=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return this.setTimeout(function(){t(Date.now())},er)}).bind(window);function qt(t){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var e=0;e<t;e++)this._lanes.push(new se)}qt.prototype._step=function(t){var e=this._lanes,i=this._stepQueue,r=this._stepCallbacks,s,o,n,a,h,l;for(this._nextStep=null,s=0;s<e.length;s++){for(a=e[s].queue,h=e[s].callbacks,l=e[s].indices,o=0;o<a.length;o++)n=a[o],n&&(i.push(n),r[n]=h[n],delete h[n],delete l[n]);a.length=0}for(s=0;s<i.length;s++)n=i[s],r[n]&&r[n](t),delete r[n];i.length=0},qt.prototype.add=function(t,e,i){this._lanes[t].add(e,i),this._nextStep||(this._nextStep=ir(this._step))},qt.prototype.remove=function(t,e){this._lanes[t].remove(e)};function se(){this.queue=[],this.indices={},this.callbacks={}}se.prototype.add=function(t,e){var i=this.indices[t];i!==void 0&&(this.queue[i]=void 0),this.queue.push(t),this.callbacks[t]=e,this.indices[t]=this.queue.length-1},se.prototype.remove=function(t){var e=this.indices[t];e!==void 0&&(this.queue[e]=void 0,delete this.callbacks[t],delete this.indices[t])};var Ie="layoutRead",xe="layoutWrite",Le="visibilityRead",ke="visibilityWrite",Ce="dragStartRead",Pe="dragStartWrite",Me="dragMoveRead",Oe="dragMoveWrite",Ye="dragScrollRead",Xe="dragScrollWrite",Ne="dragSortRead",He="placeholderLayoutRead",Ge="placeholderLayoutWrite",qe="placeholderResizeWrite",Ve="autoScrollRead",Be="autoScrollWrite",We="debounceRead",X=0,Fe=1,N=2,R=new qt(3);function rr(t,e,i){R.add(X,Ie+t,e),R.add(N,xe+t,i)}function ze(t){R.remove(X,Ie+t),R.remove(N,xe+t)}function sr(t,e,i){R.add(X,Le+t,e),R.add(N,ke+t,i)}function Ue(t){R.remove(X,Le+t),R.remove(N,ke+t)}function nr(t,e,i){R.add(X,Ce+t,e),R.add(N,Pe+t,i)}function je(t){R.remove(X,Ce+t),R.remove(N,Pe+t)}function or(t,e,i){R.add(X,Me+t,e),R.add(N,Oe+t,i)}function Ze(t){R.remove(X,Me+t),R.remove(N,Oe+t)}function ar(t,e,i){R.add(X,Ye+t,e),R.add(N,Xe+t,i)}function Qe(t){R.remove(X,Ye+t),R.remove(N,Xe+t)}function Vt(t,e){R.add(Fe,Ne+t,e)}function hr(t){R.remove(Fe,Ne+t)}function lr(t,e,i){R.add(X,He+t,e),R.add(N,Ge+t,i)}function Ke(t){R.remove(X,He+t),R.remove(N,Ge+t)}function _r(t,e){R.add(N,qe+t,e)}function fr(t){R.remove(N,qe+t)}function $e(t,e){R.add(X,Ve,t),R.add(N,Be,e)}function ur(){R.remove(X,Ve),R.remove(N,Be)}function dr(t,e){R.add(X,We+t,e)}function cr(t){R.remove(X,We+t)}var k=1,P=2,dt=4,ne=8,Tt=k|ne,At=k|dt,wt=P|ne,Bt=P|dt,vr="function";function A(t){return typeof t===vr}var Wt=typeof WeakMap=="function"?new WeakMap:null;function q(t,e){var i=Wt&&Wt.get(t);return i||(i=window.getComputedStyle(t,null),Wt&&Wt.set(t,i)),i.getPropertyValue(e)}function F(t,e){return parseFloat(q(t,e))||0}var ft=document.documentElement,pr=document.body,Ft={value:0,offset:0};function Je(t){return t===window||t===ft||t===pr?window:t}function Rt(t){return t===window?t.pageXOffset:t.scrollLeft}function bt(t){return t===window?t.pageYOffset:t.scrollTop}function ti(t){return t===window?ft.scrollWidth-ft.clientWidth:t.scrollWidth-t.clientWidth}function ei(t){return t===window?ft.scrollHeight-ft.clientHeight:t.scrollHeight-t.clientHeight}function ii(t,e){if(e=e||{},t===window)e.width=ft.clientWidth,e.height=ft.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{var i=t.getBoundingClientRect(),r=t.clientLeft||F(t,"border-left-width"),s=t.clientTop||F(t,"border-top-width");e.width=t.clientWidth,e.height=t.clientHeight,e.left=i.left+r,e.right=e.left+e.width,e.top=i.top+s,e.bottom=e.top+e.height}return e}function It(t){return t._drag._getGrid()._settings.dragAutoScroll}function mr(t){t._drag&&t._drag._prepareScroll()}function gr(t){if(!(!t._drag||!t._isActive)){var e=t._drag;e._scrollDiffX=e._scrollDiffY=0,t._setTranslate(e._left,e._top)}}function oe(t,e,i,r){return Ft.value=Math.min(r/2,t),Ft.offset=Math.max(0,i+Ft.value*2+r*e-r)/2,Ft}function Q(){this.reset()}Q.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null},Q.prototype.hasReachedEnd=function(){return dt&this.direction?this.value>=this.maxValue:this.value<=0},Q.prototype.computeCurrentScrollValue=function(){return this.value===null?k&this.direction?Rt(this.element):bt(this.element):Math.max(0,Math.min(this.value,this.maxValue))},Q.prototype.computeNextScrollValue=function(t){var e=this.speed*(t/1e3),i=dt&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(i,this.maxValue))},Q.prototype.computeSpeed=function(){var t={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1};return function(e){var i=this.item,r=It(i).speed;return A(r)?(t.direction=this.direction,t.threshold=this.threshold,t.distance=this.distance,t.value=this.value,t.maxValue=this.maxValue,t.duration=this.duration,t.speed=this.speed,t.deltaTime=e,t.isEnding=this.isEnding,r(i,this.element,t)):r}}(),Q.prototype.tick=function(t){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(t),this.value=this.computeNextScrollValue(t),this.duration+=t,this.value},Q.prototype.onStart=function(){var t=this.item,e=It(t).onStart;A(e)&&e(t,this.element,this.direction)},Q.prototype.onStop=function(){var t=this.item,e=It(t).onStop;A(e)&&e(t,this.element,this.direction),t._drag&&t._drag.sort()};function ct(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}ct.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0},ct.prototype.addRequest=function(t){k&t.direction?(this.removeRequest(this.requestX),this.requestX=t):(this.removeRequest(this.requestY),this.requestY=t),t.action=this},ct.prototype.removeRequest=function(t){t&&(this.requestX===t?(this.requestX=null,t.action=null):this.requestY===t&&(this.requestY=null,t.action=null))},ct.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:Rt(this.element),this.scrollTop=this.requestY?this.requestY.value:bt(this.element)},ct.prototype.scroll=function(){var t=this.element;t&&(t.scrollTo?t.scrollTo(this.scrollLeft,this.scrollTop):(t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop))};function xt(t,e){this.pool=[],this.createItem=t,this.releaseItem=e}xt.prototype.pick=function(){return this.pool.pop()||this.createItem()},xt.prototype.release=function(t){this.releaseItem(t),this.pool.indexOf(t)===-1&&this.pool.push(t)},xt.prototype.reset=function(){this.pool.length=0};function yr(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}function Sr(t,e){if(!yr(t,e))return 0;var i=Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left),r=Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top);return i*r}function zt(t,e){var i=Sr(t,e);if(!i)return 0;var r=Math.min(t.width,e.width)*Math.min(t.height,e.height);return i/r*100}var ri={width:0,height:0,left:0,right:0,top:0,bottom:0},si={width:0,height:0,left:0,right:0,top:0,bottom:0};function b(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[k]={},this._requests[P]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new xt(function(){return new Q},function(t){t.reset()}),this._actionPool=new xt(function(){return new ct},function(t){t.reset()}),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}b.AXIS_X=k,b.AXIS_Y=P,b.FORWARD=dt,b.BACKWARD=ne,b.LEFT=Tt,b.RIGHT=At,b.UP=wt,b.DOWN=Bt,b.smoothSpeed=function(t,e,i){return function(r,s,o){var n=0;if(!o.isEnding)if(o.threshold>0){var a=o.threshold-Math.max(0,o.distance);n=t/o.threshold*a}else n=t;var h=o.speed,l=n;return h===n?l:h<n?(l=h+e*(o.deltaTime/1e3),Math.min(n,l)):(l=h-i*(o.deltaTime/1e3),Math.max(n,l))}},b.pointerHandle=function(t){var e={left:0,top:0,width:0,height:0},i=t||1;return function(r,s,o,n,a,h,l){return e.left=h-i*.5,e.top=l-i*.5,e.width=i,e.height=i,e}},b.prototype._readTick=function(t){this._isDestroyed||(t&&this._tickTime?(this._tickDeltaTime=t-this._tickTime,this._tickTime=t,this._updateRequests(),this._updateActions()):(this._tickTime=t,this._tickDeltaTime=0))},b.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),$e(this._readTick,this._writeTick))},b.prototype._startTicking=function(){this._isTicking=!0,$e(this._readTick,this._writeTick)},b.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,ur()},b.prototype._getItemHandleRect=function(t,e,i){var r=t._drag;if(e){var s=r._dragMoveEvent||r._dragStartEvent,o=e(t,r._clientX,r._clientY,t._width,t._height,s.clientX,s.clientY);i.left=o.left,i.top=o.top,i.width=o.width,i.height=o.height}else i.left=r._clientX,i.top=r._clientY,i.width=t._width,i.height=t._height;return i.right=i.left+i.width,i.bottom=i.top+i.height,i},b.prototype._requestItemScroll=function(t,e,i,r,s,o,n){var a=this._requests[e],h=a[t._id];h?(h.element!==i||h.direction!==r)&&h.reset():h=this._requestPool.pick(),h.item=t,h.element=i,h.direction=r,h.threshold=s,h.distance=o,h.maxValue=n,a[t._id]=h},b.prototype._cancelItemScroll=function(t,e){var i=this._requests[e],r=i[t._id];r&&(r.action&&r.action.removeRequest(r),this._requestPool.release(r),delete i[t._id])},b.prototype._checkItemOverlap=function(t,e,i){var r=It(t),s=A(r.targets)?r.targets(t):r.targets,o=r.threshold,n=r.safeZone;if(!s||!s.length){e&&this._cancelItemScroll(t,k),i&&this._cancelItemScroll(t,P);return}var a=this._dragDirections[t._id],h=a[0],l=a[1];if(!h&&!l){e&&this._cancelItemScroll(t,k),i&&this._cancelItemScroll(t,P);return}for(var u=this._getItemHandleRect(t,r.handle,ri),v=si,S=null,y=null,D=!0,_=!0,f=0,m=0,c=null,g=null,p=0,w=0,I=0,M=null,O=-1/0,x=0,tt=0,C=null,B=0,ht=0,Y=null,te=-1/0,ki=0,Ci=0,Pi=null,Mi=0,Oi=0,me=0;me<s.length;me++)S=s[me],D=e&&h&&S.axis!==P,_=i&&l&&S.axis!==k,m=S.priority||0,!((!D||m<O)&&(!_||m<te))&&(y=Je(S.element||S),w=D?ti(y):-1,I=_?ei(y):-1,!(!w&&!I)&&(v=ii(y,v),f=zt(u,v),!(f<=0)&&(D&&m>=O&&w>0&&(m>O||f>tt)&&(g=null,c=oe(typeof S.threshold=="number"?S.threshold:o,n,u.width,v.width),h===At?(p=v.right+c.offset-u.right,p<=c.value&&Rt(y)<w&&(g=At)):h===Tt&&(p=u.left-(v.left-c.offset),p<=c.value&&Rt(y)>0&&(g=Tt)),g!==null&&(M=y,O=m,x=c.value,tt=f,C=g,B=p,ht=w)),_&&m>=te&&I>0&&(m>te||f>Ci)&&(g=null,c=oe(typeof S.threshold=="number"?S.threshold:o,n,u.height,v.height),l===Bt?(p=v.bottom+c.offset-u.bottom,p<=c.value&&bt(y)<I&&(g=Bt)):l===wt&&(p=u.top-(v.top-c.offset),p<=c.value&&bt(y)>0&&(g=wt)),g!==null&&(Y=y,te=m,ki=c.value,Ci=f,Pi=g,Mi=p,Oi=I)))));e&&(M?this._requestItemScroll(t,k,M,C,x,B,ht):this._cancelItemScroll(t,k)),i&&(Y?this._requestItemScroll(t,P,Y,Pi,ki,Mi,Oi):this._cancelItemScroll(t,P))},b.prototype._updateScrollRequest=function(t){for(var e=t.item,i=It(e),r=A(i.targets)?i.targets(e):i.targets,s=r&&r.length||0,o=i.threshold,n=i.safeZone,a=this._getItemHandleRect(e,i.handle,ri),h=si,l=null,u=null,v=!1,S=null,y=null,D=null,_=null,f=null,m=null,c=0;c<s;c++)if(l=r[c],u=Je(l.element||l),u===t.element){if(v=!!(k&t.direction),v){if(l.axis===P)continue}else if(l.axis===k)continue;if(f=v?ti(u):ei(u),f<=0||(h=ii(u,h),S=zt(a,h),S<=0)||(y=oe(typeof l.threshold=="number"?l.threshold:o,n,v?a.width:a.height,v?h.width:h.height),t.direction===Tt?D=a.left-(h.left-y.offset):t.direction===At?D=h.right+y.offset-a.right:t.direction===wt?D=a.top-(h.top-y.offset):D=h.bottom+y.offset-a.bottom,D>y.value)||(_=v?Rt(u):bt(u),m=dt&t.direction?_>=f:_<=0,m))break;return t.maxValue=f,t.threshold=y.value,t.distance=D,t.isEnding=!1,!0}return i.smoothStop===!0&&t.speed>0?(m===null&&(m=t.hasReachedEnd()),t.isEnding=!m):t.isEnding=!1,t.isEnding},b.prototype._updateRequests=function(){for(var t=this._items,e=this._requests[k],i=this._requests[P],r,s,o,n,a,h,l,u=0;u<t.length;u++)r=t[u],n=this._requestOverlapCheck[r._id],a=n>0&&this._tickTime-n>this._overlapCheckInterval,h=!0,s=e[r._id],s&&s.isActive&&(h=!this._updateScrollRequest(s),h&&(a=!0,this._cancelItemScroll(r,k))),l=!0,o=i[r._id],o&&o.isActive&&(l=!this._updateScrollRequest(o),l&&(a=!0,this._cancelItemScroll(r,P))),a&&(this._requestOverlapCheck[r._id]=0,this._checkItemOverlap(r,h,l))},b.prototype._requestAction=function(t,e){for(var i=this._actions,r=e===k,s=null,o=0;o<i.length;o++){if(s=i[o],t.element!==s.element){s=null;continue}if(r?s.requestX:s.requestY){this._cancelItemScroll(t.item,e);return}break}s||(s=this._actionPool.pick()),s.element=t.element,s.addRequest(t),t.tick(this._tickDeltaTime),i.push(s)},b.prototype._updateActions=function(){var t=this._items,e=this._requests,i=this._actions,r,s,o,n;for(n=0;n<t.length;n++)r=t[n]._id,s=e[k][r],o=e[P][r],s&&this._requestAction(s,k),o&&this._requestAction(o,P);for(n=0;n<i.length;n++)i[n].computeScrollValues()},b.prototype._applyActions=function(){var t=this._actions,e=this._items,i;if(t.length){for(i=0;i<t.length;i++)t[i].scroll(),this._actionPool.release(t[i]);for(t.length=0,i=0;i<e.length;i++)mr(e[i]);for(i=0;i<e.length;i++)gr(e[i])}},b.prototype._updateDragDirection=function(t){var e=this._dragPositions[t._id],i=this._dragDirections[t._id],r=t._drag._left,s=t._drag._top;if(e.length){var o=e[0],n=e[1];i[0]=r>o?At:r<o?Tt:i[0]||0,i[1]=s>n?Bt:s<n?wt:i[1]||0}e[0]=r,e[1]=s},b.prototype.addItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);e===-1&&(this._items.push(t),this._requestOverlapCheck[t._id]=this._tickTime,this._dragDirections[t._id]=[0,0],this._dragPositions[t._id]=[],this._isTicking||this._startTicking())}},b.prototype.updateItem=function(t){this._isDestroyed||this._dragDirections[t._id]&&(this._updateDragDirection(t),this._requestOverlapCheck[t._id]||(this._requestOverlapCheck[t._id]=this._tickTime))},b.prototype.removeItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);if(e!==-1){var i=t._id,r=this._requests[k][i];r&&(this._cancelItemScroll(t,k),delete this._requests[k][i]);var s=this._requests[P][i];s&&(this._cancelItemScroll(t,P),delete this._requests[P][i]),delete this._requestOverlapCheck[i],delete this._dragPositions[i],delete this._dragDirections[i],this._items.splice(e,1),this._isTicking&&!this._items.length&&this._stopTicking()}}},b.prototype.isItemScrollingX=function(t){var e=this._requests[k][t._id];return!!(e&&e.isActive)},b.prototype.isItemScrollingY=function(t){var e=this._requests[P][t._id];return!!(e&&e.isActive)},b.prototype.isItemScrolling=function(t){return this.isItemScrollingX(t)||this.isItemScrollingY(t)},b.prototype.destroy=function(){if(!this._isDestroyed){for(var t=this._items.slice(0),e=0;e<t.length;e++)this.removeItem(t[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var vt=window.Element.prototype,Dr=vt.matches||vt.matchesSelector||vt.webkitMatchesSelector||vt.mozMatchesSelector||vt.msMatchesSelector||vt.oMatchesSelector||function(){return!1};function Ut(t,e){return Dr.call(t,e)}function V(t,e){e&&(t.classList?t.classList.add(e):Ut(t,"."+e)||(t.className+=" "+e))}var ni=[],Er="number";function ae(t,e,i){var r=typeof i===Er?i:-1;r<0&&(r=t.length-r+1),t.splice.apply(t,ni.concat(r,0,e)),ni.length=0}function pt(t,e,i){var r=Math.max(0,t.length-1+(i||0));return e>r?r:e<0?Math.max(r+e+1,0):e}function oi(t,e,i){if(!(t.length<2)){var r=pt(t,e),s=pt(t,i);r!==s&&t.splice(s,0,t.splice(r,1)[0])}}function ai(t,e,i){if(!(t.length<2)){var r=pt(t,e),s=pt(t,i),o;r!==s&&(o=t[r],t[r]=t[s],t[s]=o)}}var j=Nt(document.documentElement.style,"transform")||"transform",Tr=/([A-Z])/g,Ar=/^(webkit-|moz-|ms-|o-)/,wr=/^(-m-s-)/;function he(t){var e=t.replace(Tr,"-$1").toLowerCase();return e=e.replace(Ar,"-$1"),e=e.replace(wr,"-ms-"),e}var hi=he(j),Rr="none",br="inline",Ir="none",xr="display";function Lr(t){var e=q(t,hi);if(!e||e===Rr)return!1;var i=q(t,xr);return!(i===br||i===Ir)}function le(t){for(var e=document,i=t||e;i&&i!==e&&q(i,"position")==="static"&&!Lr(i);)i=i.parentElement||e;return i}var _e={},fe={},ut={};function li(t,e){var i=e||{},r;return i.left=0,i.top=0,t===document||(i.left=window.pageXOffset||0,i.top=window.pageYOffset||0,t.self===window.self)||(r=t.getBoundingClientRect(),i.left+=r.left,i.top+=r.top,i.left+=F(t,"border-left-width"),i.top+=F(t,"border-top-width")),i}function mt(t,e,i){return ut.left=0,ut.top=0,t===e||i&&(t=le(t),e=le(e),t===e)||(li(t,_e),li(e,fe),ut.left=fe.left-_e.left,ut.top=fe.top-_e.top),ut}function ue(t){return t==="auto"||t==="scroll"||t==="overlay"}function kr(t){return ue(q(t,"overflow"))||ue(q(t,"overflow-x"))||ue(q(t,"overflow-y"))}function _i(t,e){for(e=e||[];t&&t!==document;){if(t.getRootNode&&t instanceof DocumentFragment){t=t.getRootNode().host;continue}kr(t)&&e.push(t),t=t.parentNode}return e.push(window),e}var gt={},Cr="none",Pr=/^matrix3d/,Mr=/([^,]*,){4}/,Or=/([^,]*,){12}/,Yr=/[^,]*,/;function K(t){gt.x=0,gt.y=0;var e=q(t,hi);if(!e||e===Cr)return gt;var i=Pr.test(e),r=e.replace(i?Or:Mr,""),s=r.replace(Yr,"");return gt.x=parseFloat(r)||0,gt.y=parseFloat(s)||0,gt}function H(t,e){e&&(t.classList?t.classList.remove(e):Ut(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim()))}var Xr=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,jt=0,de=1,Zt=2,fi=Re()?{passive:!0}:!1;function E(t){var e=t._element,i=t.getGrid(),r=i._settings;this._item=t,this._gridId=i._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=A(r.dragStartPredicate)?r.dragStartPredicate:E.defaultStartPredicate,this._startPredicateState=jt,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=r.dragHandle&&e.querySelector(r.dragHandle)||e,this._dragger=new d(this._handle,r.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}E.autoScroller=new b,E.defaultStartPredicate=function(t,e,i){var r=t._drag;if(e.isFirst&&e.srcEvent.button||!Xr&&e.isFirst&&e.srcEvent.isTrusted===!0&&e.srcEvent.defaultPrevented===!1&&e.srcEvent.cancelable===!1)return!1;if(e.isFinal){r._finishStartPredicate(e);return}var s=r._startPredicateData;if(!s){var o=i||r._getGrid()._settings.dragStartPredicate||{};r._startPredicateData=s={distance:Math.max(o.distance,0)||0,delay:Math.max(o.delay,0)||0}}return s.delay&&(s.event=e,s.delayTimer||(s.delayTimer=window.setTimeout(function(){s.delay=0,r._resolveStartPredicate(s.event)&&(r._forceResolveStartPredicate(s.event),r._resetStartPredicate())},s.delay))),r._resolveStartPredicate(e)},E.defaultSortPredicate=function(){var t={},e={},i={},r=[],s=1,o=100;function n(a,h,l){var u=null,v=h._settings.dragSort,S=-1,y,D,_,f,m,c,g,p,w,I;if(v===!0?(r[0]=h,D=r):A(v)&&(D=v.call(h,a)),!D||!Array.isArray(D)||!D.length)return u;for(I=0;I<D.length;I++)if(_=D[I],!_._isDestroyed){for(_._updateBoundingRect(),c=Math.max(0,_._left),g=Math.max(0,_._top),p=Math.min(window.innerWidth,_._right),w=Math.min(window.innerHeight,_._bottom),f=_._element.parentNode;f&&f!==document&&f!==document.documentElement&&f!==document.body;){if(f.getRootNode&&f instanceof DocumentFragment){f=f.getRootNode().host;continue}if(q(f,"overflow")!=="visible"&&(m=f.getBoundingClientRect(),c=Math.max(c,m.left),g=Math.max(g,m.top),p=Math.min(p,m.right),w=Math.min(w,m.bottom)),q(f,"position")==="fixed")break;f=f.parentNode}c>=p||g>=w||(e.left=c,e.top=g,e.width=p-c,e.height=w-g,y=zt(t,e),y>l&&y>S&&(S=y,u=_))}return r.length=0,u}return function(a,h){var l=a._drag,u=l._getGrid(),v=h&&typeof h.threshold=="number"?h.threshold:50,S=h&&h.action===U?U:_t,y=h&&h.migrateAction===U?U:_t;v=Math.min(Math.max(v,s),o),t.width=a._width,t.height=a._height,t.left=l._clientX,t.top=l._clientY;var D=n(a,u,v);if(!D)return null;var _=a.getGrid()!==D,f=0,m=0,c=0,g=-1,p=!1,w,I,M;for(D===u?(t.left=l._gridX+a._marginLeft,t.top=l._gridY+a._marginTop):(D._updateBorders(1,0,1,0),f=D._left+D._borderLeft,m=D._top+D._borderTop),M=0;M<D._items.length;M++)w=D._items[M],!(!w._isActive||w===a)&&(p=!0,e.width=w._width,e.height=w._height,e.left=w._left+w._marginLeft+f,e.top=w._top+w._marginTop+m,I=zt(t,e),I>c&&(g=M,c=I));return _&&c<v&&(g=p?g:0,c=v),c>=v?(i.grid=D,i.index=g,i.action=_?y:S,i):null}}(),E.prototype.stop=function(){if(this._isActive){if(this._isMigrating){this._finishMigration();return}var t=this._item,e=t._id;if(E.autoScroller.removeItem(t),je(e),Ze(e),Qe(e),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var i=t._element,r=this._getGrid(),s=r._settings.itemDraggingClass;i.parentNode!==r._element&&(r._element.appendChild(i),t._setTranslate(this._gridX,this._gridY),s&&i.clientWidth),H(i,s)}this._reset()}},E.prototype.sort=function(t){var e=this._item;this._isActive&&e._isActive&&this._dragMoveEvent&&(t===!0?this._handleSort():Vt(e._id,this._handleSort))},E.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),E.autoScroller.removeItem(this._item),this._isDestroyed=!0)},E.prototype._getGrid=function(){return Ct[this._gridId]||null},E.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0},E.prototype._bindScrollListeners=function(){var t=this._getGrid()._element,e=this._container,i=this._scrollers,r,s;if(i.length=0,_i(this._item._element.parentNode,i),e!==t)for(r=[],_i(t,r),s=0;s<r.length;s++)i.indexOf(r[s])<0&&i.push(r[s]);for(s=0;s<i.length;s++)i[s].addEventListener("scroll",this._onScroll,fi)},E.prototype._unbindScrollListeners=function(){var t=this._scrollers,e;for(e=0;e<t.length;e++)t[e].removeEventListener("scroll",this._onScroll,fi);t.length=0},E.prototype._resolveStartPredicate=function(t){var e=this._startPredicateData;if(!(t.distance<e.distance||e.delay))return this._resetStartPredicate(),!0},E.prototype._forceResolveStartPredicate=function(t){!this._isDestroyed&&this._startPredicateState===de&&(this._startPredicateState=Zt,this._onStart(t))},E.prototype._finishStartPredicate=function(t){var e=this._item._element,i=Math.abs(t.deltaX)<2&&Math.abs(t.deltaY)<2&&t.deltaTime<200;this._resetStartPredicate(),i&&Nr(e)},E.prototype._resetHeuristics=function(t,e){this._blockedSortIndex=null,this._sortX1=this._sortX2=t,this._sortY1=this._sortY2=e},E.prototype._checkHeuristics=function(t,e){var i=this._getGrid()._settings.dragSortHeuristics,r=i.minDragDistance;if(r<=0)return this._blockedSortIndex=null,!0;var s=t-this._sortX2,o=e-this._sortY2,n=r>3&&i.minBounceBackAngle>0;if(n||(this._blockedSortIndex=null),Math.abs(s)>r||Math.abs(o)>r){if(n){var a=Math.atan2(s,o),h=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),l=Math.atan2(Math.sin(a-h),Math.cos(a-h));Math.abs(l)>i.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=t,this._sortY2=e,!0}return!1},E.prototype._resetStartPredicate=function(){var t=this._startPredicateData;t&&(t.delayTimer&&(t.delayTimer=window.clearTimeout(t.delayTimer)),this._startPredicateData=null)},E.prototype._handleSort=function(){if(this._isActive){var t=this._getGrid()._settings;if(!t.dragSort||!t.dragAutoScroll.sortDuringScroll&&E.autoScroller.isItemScrolling(this._item)){this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer));return}var e=this._checkHeuristics(this._gridX,this._gridY);if(!(!this._isSortNeeded&&!e)){var i=t.dragSortHeuristics.sortInterval;i<=0||this._isSortNeeded?(this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):this._sortTimer===void 0&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,i))}}},E.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,Vt(this._item._id,this._handleSort)},E.prototype._cancelSort=function(){this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),hr(this._item._id)},E.prototype._finishSort=function(){var t=this._getGrid()._settings.dragSort,e=t&&(this._isSortNeeded||this._sortTimer!==void 0);this._cancelSort(),e&&this._checkOverlap()},E.prototype._checkOverlap=function(){if(this._isActive){var t=this._item,e=this._getGrid()._settings,i,r,s,o,n,a,h,l;A(e.dragSortPredicate)?i=e.dragSortPredicate(t,this._dragMoveEvent):i=E.defaultSortPredicate(t,e.dragSortPredicate),!(!i||typeof i.index!="number")&&(h=i.action===U?U:_t,r=t.getGrid(),o=i.grid||r,l=r!==o,s=r._items.indexOf(t),n=pt(o._items,i.index,l&&h===_t?1:0),!(!l&&n===this._blockedSortIndex)&&(l?(this._blockedSortIndex=null,a=o._items[n],r._hasListeners(it)&&r._emit(it,{item:t,fromGrid:r,fromIndex:s,toGrid:o,toIndex:n}),o._hasListeners(Yt)&&o._emit(Yt,{item:t,fromGrid:r,fromIndex:s,toGrid:o,toIndex:n}),t._gridId=o._id,this._isMigrating=t._gridId!==this._gridId,r._items.splice(s,1),ae(o._items,t,n),t._sortData=null,r._hasListeners(Mt)&&r._emit(Mt,{item:t,fromGrid:r,fromIndex:s,toGrid:o,toIndex:n}),o._hasListeners(Ot)&&o._emit(Ot,{item:t,fromGrid:r,fromIndex:s,toGrid:o,toIndex:n}),h===U&&a&&a.isActive()&&o._items.indexOf(a)>-1&&o.send(a,r,s,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),r.layout(),o.layout()):s!==n&&(this._blockedSortIndex=s,(h===U?ai:oi)(r._items,s,n),r._hasListeners(Pt)&&r._emit(Pt,{item:t,fromIndex:s,toIndex:n,action:h}),r.layout())))}},E.prototype._finishMigration=function(){var t=this._item,e=t._dragRelease,i=t._element,r=t._isActive,s=t.getGrid(),o=s._element,n=s._settings,a=n.dragContainer||o,h=this._getGrid()._settings,l=i.parentNode,u=r?h.itemVisibleClass:h.itemHiddenClass,v=r?n.itemVisibleClass:n.itemHiddenClass,S,y;this._isMigrating=!1,this.destroy(),h.itemClass!==n.itemClass&&(H(i,h.itemClass),V(i,n.itemClass)),u!==v&&(H(i,u),V(i,v)),a!==l&&(a.appendChild(i),y=mt(l,a,!0),S=K(i),S.x-=y.left,S.y-=y.top),t._refreshDimensions(),y=mt(a,o,!0),e._containerDiffX=y.left,e._containerDiffY=y.top,t._drag=n.dragEnabled?new E(t):null,a!==l&&t._setTranslate(S.x,S.y),t._visibility.setStyles(r?n.visibleStyles:n.hiddenStyles),e.start()},E.prototype._preStartCheck=function(t){this._startPredicateState===jt&&(this._startPredicateState=de),this._startPredicateState===de?(this._startPredicateResult=this._startPredicate(this._item,t),this._startPredicateResult===!0?(this._startPredicateState=Zt,this._onStart(t)):this._startPredicateResult===!1&&(this._resetStartPredicate(t),this._dragger._reset(),this._startPredicateState=jt)):this._startPredicateState===Zt&&this._isActive&&this._onMove(t)},E.prototype._preEndCheck=function(t){var e=this._startPredicateState===Zt;this._startPredicate(this._item,t),this._startPredicateState=jt,!(!e||!this._isActive)&&(this._isStarted?this._onEnd(t):this.stop())},E.prototype._onStart=function(t){var e=this._item;e._isActive&&(this._isActive=!0,this._dragStartEvent=t,E.autoScroller.addItem(e),nr(e._id,this._prepareStart,this._applyStart))},E.prototype._prepareStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,i=this._getGrid(),r=i._settings,s=i._element,o=r.dragContainer||s,n=le(o),a=K(e),h=e.getBoundingClientRect(),l=o!==s;if(this._container=o,this._containingBlock=n,this._clientX=h.left,this._clientY=h.top,this._left=this._gridX=a.x,this._top=this._gridY=a.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),l){var u=mt(n,s);this._containerDiffX=u.left,this._containerDiffY=u.top}}}},E.prototype._applyStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid(),i=t._element,r=t._dragRelease,s=t._migrate,o=this._container!==e._element;t.isPositioning()&&t._layout.stop(!0,this._left,this._top),s._isActive&&(this._left-=s._containerDiffX,this._top-=s._containerDiffY,this._gridX-=s._containerDiffX,this._gridY-=s._containerDiffY,s.stop(!0,this._left,this._top)),t.isReleasing()&&r._reset(),e._settings.dragPlaceholder.enabled&&t._dragPlaceholder.create(),this._isStarted=!0,e._emit(qi,t,this._dragStartEvent),o&&(i.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(i),t._setTranslate(this._left,this._top))),V(i,e._settings.itemDraggingClass),this._bindScrollListeners(),e._emit(Vi,t,this._dragStartEvent)}}},E.prototype._onMove=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._dragMoveEvent=t,or(e._id,this._prepareMove,this._applyMove),Vt(e._id,this._handleSort)},E.prototype._prepareMove=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid()._settings,i=e.dragAxis,r=this._dragMoveEvent,s=this._dragPrevMoveEvent||this._dragStartEvent||r;if(i!=="y"){var o=r.clientX-s.clientX;this._left=this._left-this._moveDiffX+o,this._gridX=this._gridX-this._moveDiffX+o,this._clientX=this._clientX-this._moveDiffX+o,this._moveDiffX=o}if(i!=="x"){var n=r.clientY-s.clientY;this._top=this._top-this._moveDiffY+n,this._gridY=this._gridY-this._moveDiffY+n,this._clientY=this._clientY-this._moveDiffY+n,this._moveDiffY=n}this._dragPrevMoveEvent=r}}},E.prototype._applyMove=function(){if(this._isActive){var t=this._item;t._isActive&&(this._moveDiffX=this._moveDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(Bi,t,this._dragMoveEvent),E.autoScroller.updateItem(t))}},E.prototype._onScroll=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._scrollEvent=t,ar(e._id,this._prepareScroll,this._applyScroll),Vt(e._id,this._handleSort)},E.prototype._prepareScroll=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,i=this._getGrid(),r=i._element,s=e.getBoundingClientRect();if(this._container!==r){var o=mt(this._containingBlock,r);this._containerDiffX=o.left,this._containerDiffY=o.top}var n=this._clientX-this._moveDiffX-s.left;this._left=this._left-this._scrollDiffX+n,this._scrollDiffX=n;var a=this._clientY-this._moveDiffY-s.top;this._top=this._top-this._scrollDiffY+a,this._scrollDiffY=a,this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}},E.prototype._applyScroll=function(){if(this._isActive){var t=this._item;t._isActive&&(this._scrollDiffX=this._scrollDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(Wi,t,this._scrollEvent))}},E.prototype._onEnd=function(t){var e=this._item,i=e._element,r=this._getGrid(),s=r._settings,o=e._dragRelease;if(!e._isActive){this.stop();return}je(e._id),Ze(e._id),Qe(e._id),this._finishSort(),this._unbindScrollListeners(),o._containerDiffX=this._containerDiffX,o._containerDiffY=this._containerDiffY,this._reset(),H(i,s.itemDraggingClass),E.autoScroller.removeItem(e),r._emit(Fi,e,t),this._isMigrating?this._finishMigration():o.start()};function Nr(t){if(t.tagName.toLowerCase()==="a"){var e=t.getAttribute("href");if(e){var i=t.getAttribute("target");i&&i!=="_self"?window.open(e,i):window.location.href=e}}}function ui(t,e){var i={},r,s;if(Array.isArray(e))for(s=0;s<e.length;s++)r=e[s],i[r]=q(t,he(r));else for(r in e)i[r]=q(t,he(r));return i}var Hr=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,di={};function Gr(t){var e=di[t];return e||(e=t.replace(Hr,""),e!==t&&(e=e[0].toLowerCase()+e.slice(1)),di[t]=e,e)}var qr="[native code]";function Vr(t){var e=window.Symbol;return!!(t&&A(e)&&A(e.toString)&&e(t).toString().indexOf(qr)>-1)}function yt(t,e){for(var i in e)t.style[i]=e[i]}var Br=!!(Element&&A(Element.prototype.animate)),ci=!!(Element&&Vr(Element.prototype.animate));function Z(t){this._element=t,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}Z.prototype.start=function(t,e,i){if(!this._isDestroyed){var r=this._element,s=i||{};if(!Br){yt(r,e),this._callback=A(s.onFinish)?s.onFinish:null,this._onFinish();return}var o=this._animation,n=this._props,a=this._values,h=s.duration||300,l=s.easing||"ease",u=!1,v,S,y;if(o&&(S=0,(h!==this._duration||l!==this._easing)&&(u=!0),!u)){for(v in e)if(++S,y=n.indexOf(v),y===-1||e[v]!==a[y]){u=!0;break}S!==n.length&&(u=!0)}if(u&&o.cancel(),this._callback=A(s.onFinish)?s.onFinish:null,!(o&&!u)){n.length=a.length=0;for(v in e)n.push(v),a.push(e[v]);this._duration=h,this._easing=l,this._animation=r.animate([vi(t,ci),vi(e,ci)],{duration:h,easing:l}),this._animation.onfinish=this._onFinish,yt(r,e)}}},Z.prototype.stop=function(){this._isDestroyed||!this._animation||(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)},Z.prototype.getCurrentStyles=function(){return ui(element,currentProps)},Z.prototype.isAnimating=function(){return!!this._animation},Z.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)},Z.prototype._onFinish=function(){var t=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,t&&t()};function vi(t,e){var i={};for(var r in t)i[e?r:Gr(r)]=t[r];return i}function nt(t,e){return"translateX("+t+"px) translateY("+e+"px)"}function G(t){this._item=t,this._animation=new Z,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}G.prototype._updateDimensions=function(){this.isActive()&&yt(this._element,{width:this._item._width+"px",height:this._item._height+"px"})},G.prototype._onLayoutStart=function(t,e){var i=this._item;if(t.indexOf(i)===-1){this.reset();return}var r=i._left,s=i._top,o=this._left,n=this._top;if(this._left=r,this._top=s,!(!e&&!this._didMigrate&&o===r&&n===s)){var a=r+i._marginLeft,h=s+i._marginTop,l=i.getGrid(),u=!e&&l._settings.layoutDuration>0;if(!u||this._didMigrate){Ke(i._id),this._element.style[j]=nt(a,h),this._animation.stop(),this._didMigrate&&(l.getElement().appendChild(this._element),this._didMigrate=!1);return}this._nextTransX=a,this._nextTransY=h,lr(i._id,this._setupAnimation,this._startAnimation)}},G.prototype._setupAnimation=function(){if(this.isActive()){var t=K(this._element);this._transX=t.x,this._transY=t.y}},G.prototype._startAnimation=function(){if(this.isActive()){var t=this._animation,e=this._transX,i=this._transY,r=this._nextTransX,s=this._nextTransY;if(e===r&&i===s){t.isAnimating()&&(this._element.style[j]=nt(r,s),t.stop());return}var o=this._item.getGrid()._settings,n={},a={};n[j]=nt(e,i),a[j]=nt(r,s),t.start(n,a,{duration:o.layoutDuration,easing:o.layoutEasing,onFinish:this._onLayoutEnd})}},G.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()},G.prototype._onReleaseEnd=function(t){if(t._id===this._item._id){if(!this._animation.isAnimating()){this.reset();return}this._resetAfterLayout=!0}},G.prototype._onMigrate=function(t){if(t.item===this._item){var e=this._item.getGrid(),i=t.toGrid;e.off(Et,this._onReleaseEnd),e.off(et,this._onLayoutStart),e.off(it,this._onMigrate),e.off(Dt,this._onHide),i.on(Et,this._onReleaseEnd),i.on(et,this._onLayoutStart),i.on(it,this._onMigrate),i.on(Dt,this._onHide),this._didMigrate=!0}},G.prototype._onHide=function(t){t.indexOf(this._item)>-1&&this.reset()},G.prototype.create=function(){if(this.isActive()){this._resetAfterLayout=!1;return}var t=this._item,e=t.getGrid(),i=e._settings,r=this._animation;this._left=t._left,this._top=t._top;var s;A(i.dragPlaceholder.createElement)?s=i.dragPlaceholder.createElement(t):s=document.createElement("div"),this._element=s,r._element=s,this._className=i.itemPlaceholderClass||"",this._className&&V(s,this._className),yt(s,{position:"absolute",left:"0px",top:"0px",width:t._width+"px",height:t._height+"px"}),s.style[j]=nt(t._left+t._marginLeft,t._top+t._marginTop),e.on(et,this._onLayoutStart),e.on(Et,this._onReleaseEnd),e.on(it,this._onMigrate),e.on(Dt,this._onHide),A(i.dragPlaceholder.onCreate)&&i.dragPlaceholder.onCreate(t,s),e.getElement().appendChild(s)},G.prototype.reset=function(){if(this.isActive()){var t=this._element,e=this._item,i=e.getGrid(),r=i._settings,s=this._animation;this._resetAfterLayout=!1,Ke(e._id),fr(e._id),s.stop(),s._element=null,i.off(Et,this._onReleaseEnd),i.off(et,this._onLayoutStart),i.off(it,this._onMigrate),i.off(Dt,this._onHide),this._className&&(H(t,this._className),this._className=""),t.parentNode.removeChild(t),this._element=null,A(r.dragPlaceholder.onRemove)&&r.dragPlaceholder.onRemove(e,t)}},G.prototype.isActive=function(){return!!this._element},G.prototype.getElement=function(){return this._element},G.prototype.updateDimensions=function(){this.isActive()&&_r(this._item._id,this._updateDimensions)},G.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null};function ot(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}ot.prototype.start=function(){if(!(this._isDestroyed||this._isActive)){var t=this._item,e=t.getGrid(),i=e._settings;this._isActive=!0,V(t._element,i.itemReleasingClass),i.dragRelease.useDragContainer||this._placeToGrid(),e._emit(zi,t),e._nextLayoutData||t._layout.start(!1)}},ot.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var r=this._item,s=r.getGrid();!t&&(e===void 0||i===void 0)&&(e=r._left,i=r._top);var o=this._placeToGrid(e,i);this._reset(o),t||s._emit(Et,r)}},ot.prototype.isJustReleased=function(){return this._isActive&&this._isPositioningStarted===!1},ot.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)},ot.prototype._placeToGrid=function(t,e){if(!this._isDestroyed){var i=this._item,r=i._element,s=i.getGrid()._element,o=!1;if(r.parentNode!==s){if(t===void 0||e===void 0){var n=K(r);t=n.x-this._containerDiffX,e=n.y-this._containerDiffY}s.appendChild(r),i._setTranslate(t,e),o=!0}return this._containerDiffX=0,this._containerDiffY=0,o}},ot.prototype._reset=function(t){if(!this._isDestroyed){var e=this._item,i=e.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,i&&(t&&e._element.clientWidth,H(e._element,i))}};var pi=2;function $(t){var e=t._element,i=e.style;this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},i.left="0px",i.top="0px",t._setTranslate(0,0),this._animation=new Z(e),this._queue="layout-"+t._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}$.prototype.start=function(t,e){if(!this._isDestroyed){var i=this._item,r=i._dragRelease,s=i.getGrid()._settings,o=this._isActive,n=r.isJustReleased(),a=n?s.dragRelease.duration:s.layoutDuration,h=n?s.dragRelease.easing:s.layoutEasing,l=!t&&!this._skipNextAnimation&&a>0;if(o&&(ze(i._id),i._emitter.burst(this._queue,!0,i)),n&&(r._isPositioningStarted=!0),A(e)&&i._emitter.on(this._queue,e),this._skipNextAnimation=!1,!l){this._updateOffsets(),i._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=h,this._animOptions.duration=a,this._isInterrupted=o,rr(i._id,this._setupAnimation,this._startAnimation)}},$.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var r=this._item;if(ze(r._id),this._animation.isAnimating()){if(e===void 0||i===void 0){var s=K(r._element);e=s.x,i=s.y}r._setTranslate(e,i),this._animation.stop()}H(r._element,r.getGrid()._settings.itemPositioningClass),this._isActive=!1,t&&r._emitter.burst(this._queue,!0,r)}},$.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),t[j]="",t.left="",t.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}},$.prototype._updateOffsets=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._dragRelease;this._offsetLeft=i._isActive?i._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=i._isActive?i._containerDiffY:e._isActive?e._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}},$.prototype._finish=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._dragRelease;t._tX=this._nextLeft,t._tY=this._nextTop,this._isActive&&(this._isActive=!1,H(t._element,t.getGrid()._settings.itemPositioningClass)),i._isActive&&i.stop(),e._isActive&&e.stop(),t._emitter.burst(this._queue,!1,t)}},$.prototype._setupAnimation=function(){var t=this._item;if(t._tX===void 0||t._tY===void 0){var e=K(t._element);t._tX=e.x,t._tY=e.y}},$.prototype._startAnimation=function(){var t=this._item,e=t.getGrid()._settings,i=this._animOptions.duration<=0;this._updateOffsets();var r=Math.abs(t._left-(t._tX-this._offsetLeft)),s=Math.abs(t._top-(t._tY-this._offsetTop));if(i||r<pi&&s<pi){(r||s||this._isInterrupted)&&t._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._isInterrupted||V(t._element,e.itemPositioningClass),this._currentStyles[j]=nt(t._tX,t._tY),this._targetStyles[j]=nt(this._nextLeft,this._nextTop),t._tX=t._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)};function Lt(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}Lt.prototype.start=function(t,e,i){if(!this._isDestroyed){var r=this._item,s=r._element,o=r.isActive(),n=r.isVisible(),a=r.getGrid(),h=a._settings,l=t._settings,u=t._element,v=t._items,S=a._items.indexOf(r),y=i||document.body,D,_,f,m,c,g,p,w,I,M;if(typeof e=="number")D=pt(v,e,1);else{if(_=t.getItem(e),!_)return;D=v.indexOf(_)}(r.isPositioning()||this._isActive||r.isReleasing())&&(g=K(s),p=g.x,w=g.y),r.isPositioning()&&r._layout.stop(!0,p,w),this._isActive&&(p-=this._containerDiffX,w-=this._containerDiffY,this.stop(!0,p,w)),r.isReleasing()&&(p-=r._dragRelease._containerDiffX,w-=r._dragRelease._containerDiffY,r._dragRelease.stop(!0,p,w)),r._visibility.stop(!0),r._drag&&r._drag.destroy(),a._hasListeners(it)&&a._emit(it,{item:r,fromGrid:a,fromIndex:S,toGrid:t,toIndex:D}),t._hasListeners(Yt)&&t._emit(Yt,{item:r,fromGrid:a,fromIndex:S,toGrid:t,toIndex:D}),h.itemClass!==l.itemClass&&(H(s,h.itemClass),V(s,l.itemClass)),I=n?h.itemVisibleClass:h.itemHiddenClass,M=n?l.itemVisibleClass:l.itemHiddenClass,I!==M&&(H(s,I),V(s,M)),a._items.splice(S,1),ae(v,r,D),r._gridId=t._id,o?(f=s.parentNode,y!==f&&(y.appendChild(s),m=mt(y,f,!0),g||(g=K(s),p=g.x,w=g.y),r._setTranslate(p+m.left,w+m.top))):u.appendChild(s),r._visibility.setStyles(n?l.visibleStyles:l.hiddenStyles),o&&(c=mt(y,u,!0)),r._refreshDimensions(),r._sortData=null,r._drag=l.dragEnabled?new E(r):null,o?(this._isActive=!0,this._container=y,this._containerDiffX=c.left,this._containerDiffY=c.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),a._hasListeners(Mt)&&a._emit(Mt,{item:r,fromGrid:a,fromIndex:S,toGrid:t,toIndex:D}),t._hasListeners(Ot)&&t._emit(Ot,{item:r,fromGrid:a,fromIndex:S,toGrid:t,toIndex:D})}},Lt.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var r=this._item,s=r._element,o=r.getGrid(),n=o._element,a;this._container!==n&&((e===void 0||i===void 0)&&(t?(a=K(s),e=a.x-this._containerDiffX,i=a.y-this._containerDiffY):(e=r._left,i=r._top)),n.appendChild(s),r._setTranslate(e,i)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}},Lt.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};function z(t){var e=t._isActive,i=t._element,r=i.children[0],s=t.getGrid()._settings;if(!r)throw new Error("No valid child element found within item element.");this._item=t,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._childElement=r,this._currentStyleProps=[],this._animation=new Z(r),this._queue="visibility-"+t._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),i.style.display=e?"":"none",V(i,e?s.itemVisibleClass:s.itemHiddenClass),this.setStyles(e?s.visibleStyles:s.hiddenStyles)}z.prototype.show=function(t,e){if(!this._isDestroyed){var i=this._item,r=i._element,s=A(e)?e:null,o=i.getGrid(),n=o._settings;if(!this._isShowing&&!this._isHidden){s&&s(!1,i);return}if(this._isShowing&&!t){s&&i._emitter.on(this._queue,s);return}this._isShowing||(i._emitter.burst(this._queue,!0,i),H(r,n.itemHiddenClass),V(r,n.itemVisibleClass),this._isHiding||(r.style.display="")),s&&i._emitter.on(this._queue,s),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,t,this._finishShow)}},z.prototype.hide=function(t,e){if(!this._isDestroyed){var i=this._item,r=i._element,s=A(e)?e:null,o=i.getGrid(),n=o._settings;if(!this._isHiding&&this._isHidden){s&&s(!1,i);return}if(this._isHiding&&!t){s&&i._emitter.on(this._queue,s);return}this._isHiding||(i._emitter.burst(this._queue,!0,i),V(r,n.itemHiddenClass),H(r,n.itemVisibleClass)),s&&i._emitter.on(this._queue,s),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,t,this._finishHide)}},z.prototype.stop=function(t){if(!this._isDestroyed&&!(!this._isHiding&&!this._isShowing)){var e=this._item;Ue(e._id),this._animation.stop(),t&&e._emitter.burst(this._queue,!0,e)}},z.prototype.setStyles=function(t){var e=this._childElement,i=this._currentStyleProps;this._removeCurrentStyles();for(var r in t)i.push(r),e.style[r]=t[r]},z.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item,e=t._element,i=t.getGrid(),r=i._settings;this.stop(!0),t._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),H(e,r.itemVisibleClass),H(e,r.itemHiddenClass),e.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}},z.prototype._startAnimation=function(t,e,i){if(!this._isDestroyed){var r=this._item,s=this._animation,o=this._childElement,n=r.getGrid()._settings,a=t?n.visibleStyles:n.hiddenStyles,h=t?n.showDuration:n.hideDuration,l=t?n.showEasing:n.hideEasing,u=e||h<=0,v;if(!a){i&&i();return}if(Ue(r._id),u){yt(o,a),s.stop(),i&&i();return}s.isAnimating()&&(s._animation.onfinish=null),sr(r._id,function(){v=ui(o,a)},function(){s.start(v,a,{duration:h,easing:l,onFinish:i})})}},z.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))},z.prototype._finishHide=function(){if(this._isHidden){var t=this._item;this._isHiding=!1,t._layout.stop(!0,0,0),t._element.style.display="none",t._emitter.burst(this._queue,!1,t)}},z.prototype._removeCurrentStyles=function(){for(var t=this._childElement,e=this._currentStyleProps,i=0;i<e.length;i++)t.style[e[i]]="";e.length=0};var Wr=0;function mi(){return++Wr}function L(t,e,i){var r=t._settings;if(lt){if(lt.has(e))throw new Error("You can only create one Muuri Item per element!");lt.set(e,this)}this._id=mi(),this._gridId=t._id,this._element=e,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new W,e.parentNode!==t._element&&t._element.appendChild(e),V(e,r.itemClass),typeof i!="boolean"&&(i=q(e,"display")!=="none"),this._isActive=i,this._visibility=new z(this),this._layout=new $(this),this._migrate=new Lt(this),this._drag=r.dragEnabled?new E(this):null,this._dragRelease=new ot(this),this._dragPlaceholder=new G(this)}L.prototype.getGrid=function(){return Ct[this._gridId]},L.prototype.getElement=function(){return this._element},L.prototype.getWidth=function(){return this._width},L.prototype.getHeight=function(){return this._height},L.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}},L.prototype.getPosition=function(){return{left:this._left,top:this._top}},L.prototype.isActive=function(){return this._isActive},L.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden},L.prototype.isShowing=function(){return!!(this._visibility&&this._visibility._isShowing)},L.prototype.isHiding=function(){return!!(this._visibility&&this._visibility._isHiding)},L.prototype.isPositioning=function(){return!!(this._layout&&this._layout._isActive)},L.prototype.isDragging=function(){return!!(this._drag&&this._drag._isActive)},L.prototype.isReleasing=function(){return!!(this._dragRelease&&this._dragRelease._isActive)},L.prototype.isDestroyed=function(){return this._isDestroyed},L.prototype._refreshDimensions=function(t){if(!this._isDestroyed&&!(t!==!0&&this._visibility._isHidden)){var e=this._element,i=this._dragPlaceholder,r=e.getBoundingClientRect();this._width=r.width,this._height=r.height,this._marginLeft=Math.max(0,F(e,"margin-left")),this._marginRight=Math.max(0,F(e,"margin-right")),this._marginTop=Math.max(0,F(e,"margin-top")),this._marginBottom=Math.max(0,F(e,"margin-bottom")),i&&i.updateDimensions()}},L.prototype._refreshSortData=function(){if(!this._isDestroyed){var t=this._sortData={},e=this.getGrid()._settings.sortData,i;for(i in e)t[i]=e[i](this,this._element)}},L.prototype._addToLayout=function(t,e){this._isActive!==!0&&(this._isActive=!0,this._left=t||0,this._top=e||0)},L.prototype._removeFromLayout=function(){this._isActive!==!1&&(this._isActive=!1,this._left=0,this._top=0)},L.prototype._canSkipLayout=function(t,e){return this._left===t&&this._top===e&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()},L.prototype._setTranslate=function(t,e){return this._tX===t&&this._tY===e?!1:(this._tX=t,this._tY=e,this._element.style[j]=nt(t,e),!0)},L.prototype._destroy=function(t){if(!this._isDestroyed){var e=this._element,i=this.getGrid(),r=i._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),H(e,r.itemClass),t&&e.parentNode.removeChild(e),lt&&lt.delete(e),this._isActive=!1,this._isDestroyed=!0}};function gi(t){var e=1,i=2,r=4,s=8,o=16,n=.001,a=.5;function h(_){return((_*1e3+.5<<0)/10<<0)/100}function l(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(l.prototype.computeLayout=function(_,f){var m=_.items,c=_.slots,g=!!(f&e),p=!!(f&i),w=!!(f&r),I=!!(f&s),M=!!(f&o),O=typeof m[0]=="number",x,tt,C,B,ht,Y;if(!m.length)return _;for(tt=O?2:1,x=0;x<m.length;x+=tt)O?(B=m[x],ht=m[x+1]):(C=m[x],B=C._width+C._marginLeft+C._marginRight,ht=C._height+C._marginTop+C._marginBottom),M&&(B=h(B),ht=h(ht)),Y=this.computeNextSlot(_,B,ht,g,p),p?Y.left+Y.width>_.width&&(_.width=Y.left+Y.width):Y.top+Y.height>_.height&&(_.height=Y.top+Y.height),c[++this.slotIndex]=Y.left,c[++this.slotIndex]=Y.top,(w||I)&&this.slotSizes.push(Y.width,Y.height);if(w)for(x=0;x<c.length;x+=2)c[x]=_.width-(c[x]+this.slotSizes[x]);if(I)for(x=1;x<c.length;x+=2)c[x]=_.height-(c[x]+this.slotSizes[x]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectStore.length=0,this.rectId=0,this.slotIndex=-1,_},l.prototype.computeNextSlot=function(_,f,m,c,g){var p=this.slotData,w=this.currentRects,I=this.nextRects,M=!1,O,x,tt,C,B;for(I.length=0,p.left=null,p.top=null,p.width=f,p.height=m,C=0;C<w.length;C++)if(x=w[C],!!x&&(O=this.getRect(x),p.width<=O.width+n&&p.height<=O.height+n)){p.left=O.left,p.top=O.top;break}if(p.left===null&&(g?(p.left=_.width,p.top=0):(p.left=0,p.top=_.height),c||(M=!0)),!g&&p.top+p.height>_.height+n&&(p.left>a&&I.push(this.addRect(0,_.height,p.left,1/0)),p.left+p.width<_.width-a&&I.push(this.addRect(p.left+p.width,_.height,_.width-p.left-p.width,1/0)),_.height=p.top+p.height),g&&p.left+p.width>_.width+n&&(p.top>a&&I.push(this.addRect(_.width,0,1/0,p.top)),p.top+p.height<_.height-a&&I.push(this.addRect(_.width,p.top+p.height,1/0,_.height-p.top-p.height)),_.width=p.left+p.width),!M){for(c&&(C=0);C<w.length;C++)if(x=w[C],!!x)for(O=this.getRect(x),tt=this.splitRect(O,p),B=0;B<tt.length;B++)x=tt[B],O=this.getRect(x),(g?O.left+n<_.width-n:O.top+n<_.height-n)&&I.push(x)}return I.length>1&&this.purgeRects(I).sort(g?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=I,this.nextRects=w,p},l.prototype.addRect=function(_,f,m,c){var g=++this.rectId;return this.rectStore[g]=_||0,this.rectStore[++this.rectId]=f||0,this.rectStore[++this.rectId]=m||0,this.rectStore[++this.rectId]=c||0,g},l.prototype.getRect=function(_,f){return f||(f=this.rectTarget),f.left=this.rectStore[_]||0,f.top=this.rectStore[++_]||0,f.width=this.rectStore[++_]||0,f.height=this.rectStore[++_]||0,f},l.prototype.splitRect=function(){var _=[],f=0,m=0;return function(c,g){return _.length=0,c.left+c.width<=g.left+n||g.left+g.width<=c.left+n||c.top+c.height<=g.top+n||g.top+g.height<=c.top+n?(_.push(this.addRect(c.left,c.top,c.width,c.height)),_):(f=g.left-c.left,f>=a&&_.push(this.addRect(c.left,c.top,f,c.height)),f=c.left+c.width-(g.left+g.width),f>=a&&_.push(this.addRect(g.left+g.width,c.top,f,c.height)),m=g.top-c.top,m>=a&&_.push(this.addRect(c.left,c.top,c.width,m)),m=c.top+c.height-(g.top+g.height),m>=a&&_.push(this.addRect(c.left,g.top+g.height,c.width,m)),_)}}(),l.prototype.isRectAWithinRectB=function(_,f){return _.left+n>=f.left&&_.top+n>=f.top&&_.left+_.width-n<=f.left+f.width&&_.top+_.height-n<=f.top+f.height},l.prototype.purgeRects=function(){var _={},f={};return function(m){for(var c=m.length,g;c--;)if(g=m.length,!!m[c]){for(this.getRect(m[c],_);g--;)if(!(!m[g]||c===g)&&(this.getRect(m[g],f),this.isRectAWithinRectB(_,f))){m[c]=0;break}}return m}}(),l.prototype.sortRectsTopLeft=function(){var _={},f={};return function(m,c){return this.getRect(m,_),this.getRect(c,f),_.top<f.top&&_.top+n<f.top?-1:_.top>f.top&&_.top-n>f.top?1:_.left<f.left&&_.left+n<f.left?-1:_.left>f.left&&_.left-n>f.left?1:0}}(),l.prototype.sortRectsLeftTop=function(){var _={},f={};return function(m,c){return this.getRect(m,_),this.getRect(c,f),_.left<f.left&&_.left+n<f.left?-1:_.left>f.left&&_.left-n<f.left?1:_.top<f.top&&_.top+n<f.top?-1:_.top>f.top&&_.top-n>f.top?1:0}}(),t){var u=1,v=2,S=3,y=4,D=new l;self.onmessage=function(_){var f=new Float32Array(_.data),m=f.subarray(y,f.length),c=new Float32Array(m.length),g=f[S],p={items:m,slots:c,width:f[u],height:f[v]};D.computeLayout(p,g),f[u]=p.width,f[v]=p.height,f.set(p.slots,y),postMessage(f.buffer,[f.buffer])}}return l}var yi=gi(),St=null,Qt=[];function Fr(t,e){var i=[];if(t>0){St||(St=URL.createObjectURL(new Blob(["("+gi.toString()+")(true)"],{type:"application/javascript"})));for(var r=0,s;r<t;r++)s=new Worker(St),e&&(s.onmessage=e),i.push(s),Qt.push(s)}return i}function zr(t){for(var e,i,r=0;r<t.length;r++)e=t[r],e.onmessage=null,e.onerror=null,e.onmessageerror=null,e.terminate(),i=Qt.indexOf(e),i>-1&&Qt.splice(i,1);St&&!Qt.length&&(URL.revokeObjectURL(St),St=null)}function Ur(){return!!(window.Worker&&window.URL&&window.Blob)}var Si=1,Kt=2,Di=4,Ei=8,Ti=16,Ai=0,wi=1,Ri=2,jr=3,ce=4;function J(t,e){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(e),t=typeof t=="number"?Math.max(0,t):0,t&&Ur())try{this._workers=Fr(t,this._onWorkerMessage)}catch(i){this._processor=new yi}else this._processor=new yi}J.prototype._sendToWorker=function(){if(!(!this._layoutQueue.length||!this._workers.length)){var t=this._layoutQueue.shift(),e=this._workers.pop(),i=this._layoutWorkerData[t];delete this._layoutWorkerData[t],this._layoutWorkers[t]=e,e.postMessage(i.buffer,[i.buffer])}},J.prototype._onWorkerMessage=function(t){var e=new Float32Array(t.data),i=e[Ai],r=this._layouts[i],s=this._layoutCallbacks[i],o=this._layoutWorkers[i];r&&delete this._layouts[i],s&&delete this._layoutCallbacks[i],o&&delete this._layoutWorkers[i],r&&s&&(r.width=e[wi],r.height=e[Ri],r.slots=e.subarray(ce,e.length),this._finalizeLayout(r),s(r)),o&&(this._workers.push(o),this._sendToWorker())},J.prototype._finalizeLayout=function(t){var e=t._grid,i=t._settings&Kt,r=e._boxSizing==="border-box";return delete t._grid,delete t._settings,t.styles={},i?t.styles.width=(r?t.width+e._borderLeft+e._borderRight:t.width)+"px":t.styles.height=(r?t.height+e._borderTop+e._borderBottom:t.height)+"px",t},J.prototype.setOptions=function(t){if(t){var e;typeof t.fillGaps=="boolean"?e=t.fillGaps?Si:0:e=this._options&Si;var i;typeof t.horizontal=="boolean"?i=t.horizontal?Kt:0:i=this._options&Kt;var r;typeof t.alignRight=="boolean"?r=t.alignRight?Di:0:r=this._options&Di;var s;typeof t.alignBottom=="boolean"?s=t.alignBottom?Ei:0:s=this._options&Ei;var o;typeof t.rounding=="boolean"?o=t.rounding?Ti:0:o=this._options&Ti,this._options=e|i|r|s|o}},J.prototype.createLayout=function(t,e,i,r,s,o){if(this._layouts[e])throw new Error("A layout with the provided id is currently being processed.");var n=this._options&Kt,a={id:e,items:i,slots:null,width:n?0:r,height:n?s:0,_grid:t,_settings:this._options};if(!i.length){a.slots=[],this._finalizeLayout(a),o(a);return}if(this._processor){a.slots=window.Float32Array?new Float32Array(i.length*2):new Array(i.length*2),this._processor.computeLayout(a,a._settings),this._finalizeLayout(a),o(a);return}var h=new Float32Array(ce+i.length*2);h[Ai]=e,h[wi]=a.width,h[Ri]=a.height,h[jr]=a._settings;var l,u,v;for(l=0,u=ce-1,v;l<i.length;l++)v=i[l],h[++u]=v._width+v._marginLeft+v._marginRight,h[++u]=v._height+v._marginTop+v._marginBottom;return this._layoutQueue.push(e),this._layouts[e]=a,this._layoutCallbacks[e]=o,this._layoutWorkerData[e]=h,this._sendToWorker(),this.cancelLayout.bind(this,e)},J.prototype.cancelLayout=function(t){var e=this._layouts[t];if(e&&(delete this._layouts[t],delete this._layoutCallbacks[t],this._layoutWorkerData[t])){delete this._layoutWorkerData[t];var i=this._layoutQueue.indexOf(t);i>-1&&this._layoutQueue.splice(i,1)}},J.prototype.destroy=function(){for(var t in this._layoutWorkers)this._workers.push(this._layoutWorkers[t]);zr(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var Zr=0;function Qr(t,e){var i=++Zr,r=0,s=0,o=!1,n=function(a){o||(s&&(r-=a-s),s=a,r>0?dr(i,n):(r=s=0,t()))};return function(a){if(!o){if(e<=0){a!==!0&&t();return}if(a===!0){o=!0,r=s=0,n=void 0,cr(i);return}r<=0?(r=e,n(0)):r=e}}}var Kr="[object HTMLCollection]",$r="[object NodeList]";function ve(t){var e=Object.prototype.toString.call(t);return e===Kr||e===$r}var Jr="object",ts="[object Object]",es=Object.prototype.toString;function bi(t){return typeof t===Jr&&es.call(t)===ts}function is(){}function rs(t){return ve(t)?Array.prototype.slice.call(t):Array.prototype.concat(t)}var Ii="number",$t="string",at="instant",pe=0;function T(t,e){typeof t===$t&&(t=document.querySelector(t));var i=t.getRootNode?t.getRootNode({composed:!0})===document:document.body.contains(t);if(!i||t===document.documentElement)throw new Error("Container element must be an existing DOM element.");var r=ss(T.defaultOptions,e);r.visibleStyles=xi(r.visibleStyles),r.hiddenStyles=xi(r.hiddenStyles),A(r.dragSort)||(r.dragSort=!!r.dragSort),this._id=mi(),this._element=t,this._settings=r,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new W,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),Ct[this._id]=this,V(t,r.containerClass),os(this,r.layoutOnResize),this.add(ns(t,r.items),{layout:!1}),r.layoutOnInit&&this.layout(!0)}T.Item=L,T.ItemLayout=$,T.ItemVisibility=z,T.ItemMigrate=Lt,T.ItemDrag=E,T.ItemDragRelease=ot,T.ItemDragPlaceholder=G,T.Emitter=W,T.Animator=Z,T.Dragger=d,T.Packer=J,T.AutoScroller=b,T.defaultPacker=new J(2),T.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:_t,migrateAction:_t},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:b.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"},T.prototype.on=function(t,e){return this._emitter.on(t,e),this},T.prototype.off=function(t,e){return this._emitter.off(t,e),this},T.prototype.getElement=function(){return this._element},T.prototype.getItem=function(t){if(this._isDestroyed||!t&&t!==0)return null;if(typeof t===Ii)return this._items[t>-1?t:this._items.length+t]||null;if(t instanceof L)return t._gridId===this._id?t:null;if(lt){var e=lt.get(t);return e&&e._gridId===this._id?e:null}else for(var i=0;i<this._items.length;i++)if(this._items[i]._element===t)return this._items[i];return null},T.prototype.getItems=function(t){if(this._isDestroyed||t===void 0)return this._items.slice(0);var e=[],i,r;if(Array.isArray(t)||ve(t))for(i=0;i<t.length;i++)r=this.getItem(t[i]),r&&e.push(r);else r=this.getItem(t),r&&e.push(r);return e},T.prototype.refreshItems=function(t,e){if(this._isDestroyed)return this;var i=t||this._items,r,s,o,n;if(e===!0)for(n=[],r=0;r<i.length;r++)s=i[r],!s.isVisible()&&!s.isHiding()&&(o=s.getElement().style,o.visibility="hidden",o.display="",n.push(o));for(r=0;r<i.length;r++)i[r]._refreshDimensions(e);if(e===!0){for(r=0;r<n.length;r++)o=n[r],o.visibility="",o.display="none";n.length=0}return this},T.prototype.refreshSortData=function(t){if(this._isDestroyed)return this;for(var e=t||this._items,i=0;i<e.length;i++)e[i]._refreshSortData();return this},T.prototype.synchronize=function(){if(this._isDestroyed)return this;var t=this._items;if(!t.length)return this;for(var e,i,r=0;r<t.length;r++)i=t[r]._element,i.parentNode===this._element&&(e=e||document.createDocumentFragment(),e.appendChild(i));return e?(this._element.appendChild(e),this._emit(Xi),this):this},T.prototype.layout=function(t,e){if(this._isDestroyed)return this;var i=this._nextLayoutData;i&&A(i.cancel)&&i.cancel(),pe=pe%ji+1;var r=pe;this._nextLayoutData={id:r,instant:t,onFinish:e,cancel:null};for(var s=this._items,o=[],n=0;n<s.length;n++)s[n]._isActive&&o.push(s[n]);this._refreshDimensions();var a=this._width-this._borderLeft-this._borderRight,h=this._height-this._borderTop-this._borderBottom,l=this._settings.layout,u;return A(l)?u=l(this,r,o,a,h,this._onLayoutDataReceived):(T.defaultPacker.setOptions(l),u=T.defaultPacker.createLayout(this,r,o,a,h,this._onLayoutDataReceived)),A(u)&&this._nextLayoutData&&this._nextLayoutData.id===r&&(this._nextLayoutData.cancel=u),this},T.prototype.add=function(t,e){if(this._isDestroyed||!t)return[];var i=rs(t);if(!i.length)return i;var r=e||{},s=r.layout?r.layout:r.layout===void 0,o=this._items,n=!1,a,h,l,u;for(u=0;u<i.length;u++)h=i[u],h.parentNode!==this._element&&(a=a||document.createDocumentFragment(),a.appendChild(h));for(a&&this._element.appendChild(a),u=0;u<i.length;u++)h=i[u],l=i[u]=new L(this,h,r.active),l._isActive&&(n=!0,l._layout._skipNextAnimation=!0);for(u=0;u<i.length;u++)l=i[u],l._refreshDimensions(),l._refreshSortData();return ae(o,i,r.index),this._hasListeners(Se)&&this._emit(Se,i.slice(0)),n&&s&&this.layout(s===at,A(s)?s:void 0),i},T.prototype.remove=function(t,e){if(this._isDestroyed||!t.length)return[];var i=e||{},r=i.layout?i.layout:i.layout===void 0,s=!1,o=this.getItems(),n=[],a=[],h,l,u;for(u=0;u<t.length;u++)l=t[u],!l._isDestroyed&&(h=this._items.indexOf(l),h!==-1&&(l._isActive&&(s=!0),n.push(l),a.push(o.indexOf(l)),l._destroy(i.removeElements),this._items.splice(h,1)));return this._hasListeners(De)&&this._emit(De,n.slice(0),a),s&&r&&this.layout(r===at,A(r)?r:void 0),n},T.prototype.show=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!0,e),this},T.prototype.hide=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!1,e),this},T.prototype.filter=function(t,e){if(this._isDestroyed||!this._items.length)return this;var i=[],r=[],s=typeof t===$t,o=A(t),n=e||{},a=n.instant===!0,h=n.syncWithLayout,l=n.layout?n.layout:n.layout===void 0,u=A(n.onFinish)?n.onFinish:null,v=-1,S=is,y,D;if(u&&(S=function(){++v&&u(i.slice(0),r.slice(0))}),o||s)for(D=0;D<this._items.length;D++)y=this._items[D],(o?t(y):Ut(y._element,t))?i.push(y):r.push(y);return i.length?this.show(i,{instant:a,syncWithLayout:h,onFinish:S,layout:!1}):S(),r.length?this.hide(r,{instant:a,syncWithLayout:h,onFinish:S,layout:!1}):S(),(i.length||r.length)&&(this._hasListeners(Ee)&&this._emit(Ee,i.slice(0),r.slice(0)),l&&this.layout(l===at,A(l)?l:void 0)),this},T.prototype.sort=function(){var t,e,i,r;function s(n,a){for(var h=0,l,u,v,S,y=0;y<t.length;y++)if(l=t[y][0],u=t[y][1],v=(n._sortData?n:n._refreshSortData())._sortData[l],S=(a._sortData?a:a._refreshSortData())._sortData[l],u==="desc"||!u&&e?h=S<v?-1:S>v?1:0:h=v<S?-1:v>S?1:0,h)return h;return h||(r||(r=Li(i)),h=e?Jt(r,a,n):Jt(r,n,a)),h}function o(n,a){var h=e?-t(n,a):t(n,a);return h||(r||(r=Li(i)),h=e?Jt(r,a,n):Jt(r,n,a)),h}return function(n,a){if(this._isDestroyed||this._items.length<2)return this;var h=this._items,l=a||{},u=l.layout?l.layout:l.layout===void 0;if(e=!!l.descending,i=h.slice(0),r=null,A(n))t=n,h.sort(o);else if(typeof n===$t)t=n.trim().split(" ").filter(function(v){return v}).map(function(v){return v.split(":")}),h.sort(s);else if(Array.isArray(n))h.length=0,h.push.apply(h,n);else throw t=e=i=r=null,new Error("Invalid comparer argument provided.");return this._hasListeners(Te)&&this._emit(Te,h.slice(0),i),u&&this.layout(u===at,A(u)?u:void 0),t=e=i=r=null,this}}(),T.prototype.move=function(t,e,i){if(this._isDestroyed||this._items.length<2)return this;var r=this._items,s=i||{},o=s.layout?s.layout:s.layout===void 0,n=s.action===U,a=n?U:_t,h=this.getItem(t),l=this.getItem(e),u,v;return h&&l&&h!==l&&(u=r.indexOf(h),v=r.indexOf(l),n?ai(r,u,v):oi(r,u,v),this._hasListeners(Pt)&&this._emit(Pt,{item:h,fromIndex:u,toIndex:v,action:a}),o&&this.layout(o===at,A(o)?o:void 0)),this},T.prototype.send=function(t,e,i,r){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(t=this.getItem(t),!t)return this;var s=r||{},o=s.appendTo||document.body,n=s.layoutSender?s.layoutSender:s.layoutSender===void 0,a=s.layoutReceiver?s.layoutReceiver:s.layoutReceiver===void 0;return t._migrate.start(e,i,o),t._migrate._isActive&&t._isActive&&(n&&this.layout(n===at,A(n)?n:void 0),a&&e.layout(a===at,A(a)?a:void 0)),this},T.prototype.destroy=function(t){if(this._isDestroyed)return this;var e=this._element,i=this._items.slice(0),r=this._layout&&this._layout.styles||{},s,o;for(as(this),s=0;s<i.length;s++)i[s]._destroy(t);this._items.length=0,H(e,this._settings.containerClass);for(o in r)e.style[o]="";return this._emit(Ui),this._emitter.destroy(),delete Ct[this._id],this._isDestroyed=!0,this},T.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)},T.prototype._hasListeners=function(t){return this._isDestroyed?!1:this._emitter.countListeners(t)>0},T.prototype._updateBoundingRect=function(){var t=this._element,e=t.getBoundingClientRect();this._width=e.width,this._height=e.height,this._left=e.left,this._top=e.top,this._right=e.right,this._bottom=e.bottom},T.prototype._updateBorders=function(t,e,i,r){var s=this._element;t&&(this._borderLeft=F(s,"border-left-width")),e&&(this._borderRight=F(s,"border-right-width")),i&&(this._borderTop=F(s,"border-top-width")),r&&(this._borderBottom=F(s,"border-bottom-width"))},T.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=q(this._element,"box-sizing")},T.prototype._onLayoutDataReceived=function(){var t=[];return function(e){if(!(this._isDestroyed||!this._nextLayoutData||this._nextLayoutData.id!==e.id)){var i=this,r=this._nextLayoutData.instant,s=this._nextLayoutData.onFinish,o=e.items.length,n=o,a,h,l,u;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(ye)&&this._emit(ye,this._layout.items.slice(0)),this._layout=e,t.length=0,u=0;u<o;u++){if(a=e.items[u],!a){--n;continue}if(h=e.slots[u*2],l=e.slots[u*2+1],a._canSkipLayout(h,l)){--n;continue}a._left=h,a._top=l,a.isActive()&&!a.isDragging()?t.push(a):--n}if(e.styles&&yt(this._element,e.styles),!(this._hasListeners(et)&&(this._emit(et,e.items.slice(0),r===!0),this._layout.id!==e.id))){var v=function(){if(!(--n>0)){var S=i._layout.id!==e.id,y=A(r)?r:s;S||(i._isLayoutFinished=!0),A(y)&&y(e.items.slice(0),S),!S&&i._hasListeners(ge)&&i._emit(ge,e.items.slice(0))}};if(!t.length)return v(),this;for(this._isLayoutFinished=!1,u=0;u<t.length&&this._layout.id===e.id;u++)t[u]._layout.start(r===!0,v);return this._layout.id===e.id&&(t.length=0),this}}}}(),T.prototype._setItemsVisibility=function(t,e,i){var r=this,s=t.slice(0),o=i||{},n=o.instant===!0,a=o.onFinish,h=o.layout?o.layout:o.layout===void 0,l=s.length,u=e?Ni:Dt,v=e?Hi:Gi,S=e?"show":"hide",y=!1,D=[],_=[],f,m;if(!l){A(a)&&a(s);return}for(m=0;m<s.length;m++)f=s[m],(e&&!f._isActive||!e&&f._isActive)&&(y=!0),f._layout._skipNextAnimation=!!(e&&!f._isActive),e&&f._visibility._isHidden&&_.push(f),e?f._addToLayout():f._removeFromLayout();_.length&&(this.refreshItems(_,!0),_.length=0);function c(){for(y&&o.syncWithLayout!==!1&&r.off(et,c),r._hasListeners(u)&&r._emit(u,s.slice(0)),m=0;m<s.length;m++){if(s[m]._gridId!==r._id){--l<1&&(A(a)&&a(D.slice(0)),r._hasListeners(v)&&r._emit(v,D.slice(0)));continue}s[m]._visibility[S](n,function(g,p){g||D.push(p),--l<1&&(A(a)&&a(D.slice(0)),r._hasListeners(v)&&r._emit(v,D.slice(0)))})}}y&&o.syncWithLayout!==!1?this.on(et,c):c(),y&&h&&this.layout(h===at,A(h)?h:void 0)};function ss(t,e){var i=kt({},t);return e&&(i=kt(i,e)),e&&e.visibleStyles?i.visibleStyles=e.visibleStyles:t&&t.visibleStyles&&(i.visibleStyles=t.visibleStyles),e&&e.hiddenStyles?i.hiddenStyles=e.hiddenStyles:t&&t.hiddenStyles&&(i.hiddenStyles=t.hiddenStyles),i}function kt(t,e){var i=Object.keys(e),r=i.length,s,o,n;for(n=0;n<r;n++){if(o=i[n],s=bi(e[o]),bi(t[o])&&s){t[o]=kt(kt({},t[o]),e[o]);continue}if(s){t[o]=kt({},e[o]);continue}if(Array.isArray(e[o])){t[o]=e[o].slice(0);continue}t[o]=e[o]}return t}function ns(t,e){if(e==="*")return t.children;if(typeof e===$t){for(var i=[],r=t.children,s=0;s<r.length;s++)Ut(r[s],e)&&i.push(r[s]);return i}return Array.isArray(e)||ve(e)?e:[]}function os(t,e){typeof e!==Ii&&(e=e===!0?0:-1),e>=0&&(t._resizeHandler=Qr(function(){t.refreshItems().layout()},e),window.addEventListener("resize",t._resizeHandler))}function as(t){t._resizeHandler&&(t._resizeHandler(!0),window.removeEventListener("resize",t._resizeHandler),t._resizeHandler=null)}function xi(t){var e={},i=document.documentElement.style,r,s;for(r in t)t[r]&&(s=Nt(i,r),s&&(e[s]=t[r]));return e}function Li(t){for(var e={},i=0;i<t.length;i++)e[t[i]._id]=i;return e}function Jt(t,e,i){var r=t[e._id],s=t[i._id];return r-s}Yi.Z=T}}]);
