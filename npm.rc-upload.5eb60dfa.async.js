"use strict";(self.webpackChunkbiominer_indexd_studio=self.webpackChunkbiominer_indexd_studio||[]).push([[7072],{36356:function(de,H,w){w.d(H,{Z:function(){return ie}});var S=w(87462),N=w(15671),T=w(43144),D=w(97326),I=w(60136),L=w(29388),k=w(4942),M=w(67294),X=w(1413),K=w(91),G=w(71002),E=w(74165),$=w(15861),U=w(74902),z=w(93967),J=w.n(z),Q=w(64217),V=w(80334),j=function(u,i){if(u&&i){var h=Array.isArray(i)?i:i.split(","),e=u.name||"",r=u.type||"",t=r.replace(/\/.*$/,"");return h.some(function(v){var n=v.trim();if(/^\*(\/\*)?$/.test(v))return!0;if(n.charAt(0)==="."){var c=e.toLowerCase(),s=n.toLowerCase(),o=[s];return(s===".jpg"||s===".jpeg")&&(o=[".jpg",".jpeg"]),o.some(function(p){return c.endsWith(p)})}return/\/\*$/.test(n)?t===n.replace(/\/.*$/,""):r===n?!0:/^\w+$/.test(n)?((0,V.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(n,"'.Skip for check.")),!0):!1})}return!0};function Y(u,i){var h="cannot ".concat(u.method," ").concat(u.action," ").concat(i.status,"'"),e=new Error(h);return e.status=i.status,e.method=u.method,e.url=u.action,e}function W(u){var i=u.responseText||u.response;if(!i)return i;try{return JSON.parse(i)}catch(h){return i}}function q(u){var i=new XMLHttpRequest;u.onProgress&&i.upload&&(i.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),u.onProgress(t)});var h=new FormData;u.data&&Object.keys(u.data).forEach(function(r){var t=u.data[r];if(Array.isArray(t)){t.forEach(function(v){h.append("".concat(r,"[]"),v)});return}h.append(r,t)}),u.file instanceof Blob?h.append(u.filename,u.file,u.file.name):h.append(u.filename,u.file),i.onerror=function(t){u.onError(t)},i.onload=function(){return i.status<200||i.status>=300?u.onError(Y(u,i),W(i)):u.onSuccess(W(i),i)},i.open(u.method,u.action,!0),u.withCredentials&&"withCredentials"in i&&(i.withCredentials=!0);var e=u.headers||{};return e["X-Requested-With"]!==null&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e).forEach(function(r){e[r]!==null&&i.setRequestHeader(r,e[r])}),i.send(h),{abort:function(){i.abort()}}}var x=function(){var u=(0,$.Z)((0,E.Z)().mark(function i(h,e){var r,t,v,n,c,s,o,p;return(0,E.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:s=function(){return s=(0,$.Z)((0,E.Z)().mark(function g(f){return(0,E.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",new Promise(function(m){f.file(function(Z){e(Z)?(f.fullPath&&!Z.webkitRelativePath&&(Object.defineProperties(Z,{webkitRelativePath:{writable:!0}}),Z.webkitRelativePath=f.fullPath.replace(/^\//,""),Object.defineProperties(Z,{webkitRelativePath:{writable:!1}})),m(Z)):m(null)})}));case 1:case"end":return y.stop()}},g)})),s.apply(this,arguments)},c=function(g){return s.apply(this,arguments)},n=function(){return n=(0,$.Z)((0,E.Z)().mark(function g(f){var F,y,m,Z,a;return(0,E.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:F=f.createReader(),y=[];case 2:return C.next=5,new Promise(function(R){F.readEntries(R,function(){return R([])})});case 5:if(m=C.sent,Z=m.length,Z){C.next=9;break}return C.abrupt("break",12);case 9:for(a=0;a<Z;a++)y.push(m[a]);C.next=2;break;case 12:return C.abrupt("return",y);case 13:case"end":return C.stop()}},g)})),n.apply(this,arguments)},v=function(g){return n.apply(this,arguments)},r=[],t=[],h.forEach(function(b){return t.push(b.webkitGetAsEntry())}),o=function(){var b=(0,$.Z)((0,E.Z)().mark(function g(f,F){var y,m;return(0,E.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(f){a.next=2;break}return a.abrupt("return");case 2:if(f.path=F||"",!f.isFile){a.next=10;break}return a.next=6,c(f);case 6:y=a.sent,y&&r.push(y),a.next=15;break;case 10:if(!f.isDirectory){a.next=15;break}return a.next=13,v(f);case 13:m=a.sent,t.push.apply(t,(0,U.Z)(m));case 15:case"end":return a.stop()}},g)}));return function(f,F){return b.apply(this,arguments)}}(),p=0;case 9:if(!(p<t.length)){d.next=15;break}return d.next=12,o(t[p]);case 12:p++,d.next=9;break;case 15:return d.abrupt("return",r);case 16:case"end":return d.stop()}},i)}));return function(h,e){return u.apply(this,arguments)}}(),_=x,ee=+new Date,re=0;function A(){return"rc-upload-".concat(ee,"-").concat(++re)}var ae=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],te=function(u){(0,I.Z)(h,u);var i=(0,L.Z)(h);function h(){var e;(0,N.Z)(this,h);for(var r=arguments.length,t=new Array(r),v=0;v<r;v++)t[v]=arguments[v];return e=i.call.apply(i,[this].concat(t)),(0,k.Z)((0,D.Z)(e),"state",{uid:A()}),(0,k.Z)((0,D.Z)(e),"reqs",{}),(0,k.Z)((0,D.Z)(e),"fileInput",void 0),(0,k.Z)((0,D.Z)(e),"_isMounted",void 0),(0,k.Z)((0,D.Z)(e),"onChange",function(n){var c=e.props,s=c.accept,o=c.directory,p=n.target.files,l=(0,U.Z)(p).filter(function(d){return!o||j(d,s)});e.uploadFiles(l),e.reset()}),(0,k.Z)((0,D.Z)(e),"onClick",function(n){var c=e.fileInput;if(c){var s=n.target,o=e.props.onClick;if(s&&s.tagName==="BUTTON"){var p=c.parentNode;p.focus(),s.blur()}c.click(),o&&o(n)}}),(0,k.Z)((0,D.Z)(e),"onKeyDown",function(n){n.key==="Enter"&&e.onClick(n)}),(0,k.Z)((0,D.Z)(e),"onDataTransferFiles",function(){var n=(0,$.Z)((0,E.Z)().mark(function c(s,o){var p,l,d,b,g,f,F;return(0,E.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(p=e.props,l=p.multiple,d=p.accept,b=p.directory,g=(0,U.Z)(s.items||[]),f=(0,U.Z)(s.files||[]),(f.length>0||g.some(function(Z){return Z.kind==="file"}))&&(o==null||o()),!b){m.next=11;break}return m.next=7,_(Array.prototype.slice.call(g),function(Z){return j(Z,e.props.accept)});case 7:f=m.sent,e.uploadFiles(f),m.next=14;break;case 11:F=(0,U.Z)(f).filter(function(Z){return j(Z,d)}),l===!1&&(F=f.slice(0,1)),e.uploadFiles(F);case 14:case"end":return m.stop()}},c)}));return function(c,s){return n.apply(this,arguments)}}()),(0,k.Z)((0,D.Z)(e),"onFilePaste",function(){var n=(0,$.Z)((0,E.Z)().mark(function c(s){var o,p;return(0,E.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(o=e.props.pastable,o){d.next=3;break}return d.abrupt("return");case 3:if(s.type!=="paste"){d.next=6;break}return p=s.clipboardData,d.abrupt("return",e.onDataTransferFiles(p,function(){s.preventDefault()}));case 6:case"end":return d.stop()}},c)}));return function(c){return n.apply(this,arguments)}}()),(0,k.Z)((0,D.Z)(e),"onFileDragOver",function(n){n.preventDefault()}),(0,k.Z)((0,D.Z)(e),"onFileDrop",function(){var n=(0,$.Z)((0,E.Z)().mark(function c(s){var o;return(0,E.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(s.preventDefault(),s.type!=="drop"){l.next=4;break}return o=s.dataTransfer,l.abrupt("return",e.onDataTransferFiles(o));case 4:case"end":return l.stop()}},c)}));return function(c){return n.apply(this,arguments)}}()),(0,k.Z)((0,D.Z)(e),"uploadFiles",function(n){var c=(0,U.Z)(n),s=c.map(function(o){return o.uid=A(),e.processFile(o,c)});Promise.all(s).then(function(o){var p=e.props.onBatchStart;p==null||p(o.map(function(l){var d=l.origin,b=l.parsedFile;return{file:d,parsedFile:b}})),o.filter(function(l){return l.parsedFile!==null}).forEach(function(l){e.post(l)})})}),(0,k.Z)((0,D.Z)(e),"processFile",function(){var n=(0,$.Z)((0,E.Z)().mark(function c(s,o){var p,l,d,b,g,f,F,y,m;return(0,E.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(p=e.props.beforeUpload,l=s,!p){a.next=14;break}return a.prev=3,a.next=6,p(s,o);case 6:l=a.sent,a.next=12;break;case 9:a.prev=9,a.t0=a.catch(3),l=!1;case 12:if(l!==!1){a.next=14;break}return a.abrupt("return",{origin:s,parsedFile:null,action:null,data:null});case 14:if(d=e.props.action,typeof d!="function"){a.next=21;break}return a.next=18,d(s);case 18:b=a.sent,a.next=22;break;case 21:b=d;case 22:if(g=e.props.data,typeof g!="function"){a.next=29;break}return a.next=26,g(s);case 26:f=a.sent,a.next=30;break;case 29:f=g;case 30:return F=((0,G.Z)(l)==="object"||typeof l=="string")&&l?l:s,F instanceof File?y=F:y=new File([F],s.name,{type:s.type}),m=y,m.uid=s.uid,a.abrupt("return",{origin:s,data:f,parsedFile:m,action:b});case 35:case"end":return a.stop()}},c,null,[[3,9]])}));return function(c,s){return n.apply(this,arguments)}}()),(0,k.Z)((0,D.Z)(e),"saveFileInput",function(n){e.fileInput=n}),e}return(0,T.Z)(h,[{key:"componentDidMount",value:function(){this._isMounted=!0;var r=this.props.pastable;r&&document.addEventListener("paste",this.onFilePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}},{key:"componentDidUpdate",value:function(r){var t=this.props.pastable;t&&!r.pastable?document.addEventListener("paste",this.onFilePaste):!t&&r.pastable&&document.removeEventListener("paste",this.onFilePaste)}},{key:"post",value:function(r){var t=this,v=r.data,n=r.origin,c=r.action,s=r.parsedFile;if(this._isMounted){var o=this.props,p=o.onStart,l=o.customRequest,d=o.name,b=o.headers,g=o.withCredentials,f=o.method,F=n.uid,y=l||q,m={action:c,filename:d,data:v,file:s,headers:b,withCredentials:g,method:f||"post",onProgress:function(a){var P=t.props.onProgress;P==null||P(a,s)},onSuccess:function(a,P){var C=t.props.onSuccess;C==null||C(a,s,P),delete t.reqs[F]},onError:function(a,P){var C=t.props.onError;C==null||C(a,P,s),delete t.reqs[F]}};p(n),this.reqs[F]=y(m)}}},{key:"reset",value:function(){this.setState({uid:A()})}},{key:"abort",value:function(r){var t=this.reqs;if(r){var v=r.uid?r.uid:r;t[v]&&t[v].abort&&t[v].abort(),delete t[v]}else Object.keys(t).forEach(function(n){t[n]&&t[n].abort&&t[n].abort(),delete t[n]})}},{key:"render",value:function(){var r=this.props,t=r.component,v=r.prefixCls,n=r.className,c=r.classNames,s=c===void 0?{}:c,o=r.disabled,p=r.id,l=r.name,d=r.style,b=r.styles,g=b===void 0?{}:b,f=r.multiple,F=r.accept,y=r.capture,m=r.children,Z=r.directory,a=r.openFileDialogOnClick,P=r.onMouseEnter,C=r.onMouseLeave,R=r.hasControlInside,oe=(0,K.Z)(r,ae),ue=J()((0,k.Z)((0,k.Z)((0,k.Z)({},v,!0),"".concat(v,"-disabled"),o),n,n)),le=Z?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},ce=o?{}:{onClick:a?this.onClick:function(){},onKeyDown:a?this.onKeyDown:function(){},onMouseEnter:P,onMouseLeave:C,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:R?void 0:"0"};return M.createElement(t,(0,S.Z)({},ce,{className:ue,role:R?void 0:"button",style:d}),M.createElement("input",(0,S.Z)({},(0,Q.Z)(oe,{aria:!0,data:!0}),{id:p,name:l,disabled:o,type:"file",ref:this.saveFileInput,onClick:function(pe){return pe.stopPropagation()},key:this.state.uid,style:(0,X.Z)({display:"none"},g.input),className:s.input,accept:F},le,{multiple:f,onChange:this.onChange},y!=null?{capture:y}:{})),m)}}]),h}(M.Component),ne=te;function O(){}var B=function(u){(0,I.Z)(h,u);var i=(0,L.Z)(h);function h(){var e;(0,N.Z)(this,h);for(var r=arguments.length,t=new Array(r),v=0;v<r;v++)t[v]=arguments[v];return e=i.call.apply(i,[this].concat(t)),(0,k.Z)((0,D.Z)(e),"uploader",void 0),(0,k.Z)((0,D.Z)(e),"saveUploader",function(n){e.uploader=n}),e}return(0,T.Z)(h,[{key:"abort",value:function(r){this.uploader.abort(r)}},{key:"render",value:function(){return M.createElement(ne,(0,S.Z)({},this.props,{ref:this.saveUploader}))}}]),h}(M.Component);(0,k.Z)(B,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:O,onError:O,onSuccess:O,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var se=B,ie=se}}]);
