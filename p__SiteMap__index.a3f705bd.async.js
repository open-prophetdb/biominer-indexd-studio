"use strict";(self.webpackChunkbiominer_indexd_studio=self.webpackChunkbiominer_indexd_studio||[]).push([[3526],{5180:function(Z,T,e){e.r(T),e.d(T,{default:function(){return ue}});var te=e(5574),k=e.n(te),v=e(67294),ne=e(97857),G=e.n(ne),I=e(23645),ae=e(66989),n=e(85893),re=function(E){var l=E.data,p=E.style,y=null,A=(0,v.useRef)(null),g=(0,v.useRef)(null),L=(0,v.useRef)(null),z=(0,v.useRef)(null),m=(0,v.useRef)(null),b=12,o=6,r=function(){var a=z.current;if(!a||!(l!=null&&l.length))return{labelFeatures:[],lineFeatures:[]};var f=a.getMapService(),h=[],u=[],M=[[28,-18],[28,18],[-28,-18],[-28,18],[0,-32],[0,32]],P=[40,56,72,88,104],c=[0,Math.PI/6,-Math.PI/6,Math.PI/3,-Math.PI/3,Math.PI/2,-Math.PI/2,Math.PI,5*Math.PI/6,-5*Math.PI/6];u.push.apply(u,M),P.forEach(function(s){c.forEach(function(x){u.push([Math.round(Math.cos(x)*s),Math.round(Math.sin(x)*s)])})});var j=function(x){var i=Array.from(x),C=i.reduce(function(R,d){return/[\u4E00-\u9FFF]/.test(d)?R+b:R+b*.6},0);return C+o*2},J=[],K=[];return l.forEach(function(s,x){var i=f.lngLatToContainer([s.lng,s.lat]);if(!(!i||Number.isNaN(i.x)||Number.isNaN(i.y))){for(var C=j(s.country),R=b+o*2,d=null,F=null,V=function(q){var _=i.x+q[0],ee=i.y+q[1],O={x1:_-C/2,y1:ee-R/2,x2:_+C/2,y2:ee+R/2},fe=h.some(function(N){return!(O.x2<N.x1||O.x1>N.x2||O.y2<N.y1||O.y1>N.y2)});return fe?null:O},W=0;W<u.length;W+=1){var X=u[W],Y=V(X);if(Y){d=X,F=Y;break}}if(!d||!F){var $=[0,36+x*6],Q=V($);Q&&(d=$,F=Q)}if(!(!d||!F)){h.push(F);var de=[i.x+d[0],i.y+d[1]],ve=[i.x+Math.round(d[0]*.5),i.y+Math.round(d[1]*.5)],w=f.containerToLngLat(de),D=f.containerToLngLat(ve);!w||!D||(J.push(G()(G()({},s),{},{labelLng:w.lng,labelLat:w.lat})),K.push({id:"".concat(s.name,"-").concat(x),coordinates:[[s.lng,s.lat],[D.lng,D.lat],[w.lng,w.lat]]}))}}}),{labelFeatures:J,lineFeatures:K}},S=function(){var a=g.current,f=L.current;if(!(!a||!f)){var h=r(),u=h.labelFeatures,M=h.lineFeatures;a.setData(u),f.setData(M)}};return(0,v.useEffect)(function(){if(l){var t=new I.xs({id:"world-map",map:new ae.lg({style:"light",center:[0,20],zoom:1,token:{NODE_ENV:"production",UMI_APP_API_PREFIX:"https://api.3steps.cn/biominer-indexd",PUBLIC_PATH:"/"}.UMI_APP_GAODE_MAP_TOKEN}),logoVisible:!1});return z.current=t,t.on("loaded",function(){var a=new I.ns({}).source(l,{parser:{type:"json",x:"lng",y:"lat"}}).shape("circle").size(10).color("#1890FF").style({opacity:1,strokeWidth:1,stroke:"#fff"}).active(!0);t.addLayer(a),A.current=a;var f=r(),h=new I.Ie({name:"leader-line-layer"}).source(f.lineFeatures,{parser:{type:"json",coordinates:"coordinates"}}).size(1).color("#8c8c8c").style({lineType:"dash",dashArray:[4,4],opacity:.6}),u=new I.ns({name:"country-label-layer"}).source(f.labelFeatures,{parser:{type:"json",x:"labelLng",y:"labelLat"}}).shape("country","text").size(b).color("#262626").style({padding:[o/2,o],stroke:"#ffffff",strokeWidth:2,textAllowOverlap:!0,textAnchor:"center",textOffset:[0,0]});t.addLayer(h),t.addLayer(u),L.current=h,g.current=u,S(),a.on("mousemove",function(P){if(P.feature){var c=P.feature;y=new I.GI({lngLat:P.lngLat,title:c.name,autoClose:!0,autoPan:!0,closeOnClick:!0,closeOnEsc:!0,closeButton:!0,html:`
                                <div>
                                    <span class="popup-tag">Site Name</span> `.concat(c.site_name,`<br/>
                                    <span class="popup-tag">Site Desc</span> `).concat(c.site_description,`<br/>
                                    <a href="`).concat(c.site_link,`" target="_blank">Access Site</a>
                                </div>
                            `)}),t.addPopup(y)}});var M=function(){var c,j=t.getMapService().map;j==null||(c=j.resize)===null||c===void 0||c.call(j),S()};t.on("resize",M),t.on("moveend",S),t.on("zoomend",S),m.current=function(){t.off("resize",M),t.off("moveend",S),t.off("zoomend",S)}}),function(){var a;(a=m.current)===null||a===void 0||a.call(m),m.current=null,y&&(y.remove(),y=null),t.destroy(),A.current=null,g.current=null,L.current=null,z.current=null}}},[l]),(0,n.jsx)("div",{id:"world-map",style:p})},se=re,ie=e(71230),H=e(4393),U=e(2487),le=e(83622),B=e(10981),oe=function(){var E=(0,v.useState)(!1),l=k()(E,2),p=l[0],y=l[1],A=(0,v.useState)([]),g=k()(A,2),L=g[0],z=g[1],m=(0,B.z7)(),b=(0,B.HL)();return(0,v.useEffect)(function(){fetch("/".concat(b,"-siteinfo.json")).then(function(r){return r.json()}).then(function(r){return z(r)}).catch(function(r){return console.error("Failed to fetch the site info.",r)});var o=function(){y(window.innerWidth<=768)};return o(),window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}},[]),(0,n.jsxs)(ie.Z,{className:"site-map-container",children:[(0,n.jsxs)(H.Z,{title:"Why ".concat(m," and how to install your own instance?"),style:{flex:p?"1 1 100%":"1 1 500px",minWidth:p?"100%":"500px",borderRight:"0px"},children:[(0,n.jsx)("img",{src:e(60746),alt:"System Framework",style:{width:"100%",display:"block"}}),(0,n.jsxs)("p",{style:{fontSize:"14px",color:"#999",marginTop:"16px"},children:["This system (",m,") standardizes and indexes clinical and multi-omics data through SOP-based processing, including collection, quality control, and cleaning. Omics files and metadata are converted into efficient, searchable datasets with versioning and unified indexing, supporting data integration and reuse."]}),(0,n.jsx)(U.Z,{size:"large",dataSource:[(0,n.jsx)("span",{children:"\u2705 Step 1: Join Our Community and Request the installation package. [Only one binary file is needed, no need to install any other software and dependencies]"}),(0,n.jsx)("span",{children:"\u2705 Step 2: Configure environment variables"}),(0,n.jsx)("span",{children:"\u2705 Step 3: Start the service"}),(0,n.jsx)("span",{children:"\u2705 Step 4: Prepare your datasets and visualize them on the system"}),(0,n.jsx)("span",{children:"\u2705 Step 5: Register your site on the platform [Optional]"})],renderItem:function(r){return(0,n.jsx)(U.Z.Item,{children:r})}}),(0,n.jsx)(le.ZP,{type:"primary",style:{marginTop:"16px"},onClick:function(){return window.open("https://www.prophetdb.org","_blank")},children:"Join Our Community and Get Support"})]}),(0,n.jsx)(H.Z,{title:"Site Map - Local Installations (".concat(L.length," Sites)"),style:{flex:p?"1 1 100%":"2 1 500px",minWidth:p?"100%":"500px"},styles:{body:{padding:0,height:p?"300px":"calc(100% - 58px)"}},children:(0,n.jsx)(se,{style:{width:"100%",height:"100%",position:"relative"},data:L})})]})},ue=oe},60746:function(Z,T,e){Z.exports=e.p+"static/framework.9074376c.png"}}]);
